<!DOCTYPE html>
<html lang="en">

<!-- Head tag -->
<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!--Description-->
    

    <!--Author-->
    
        <meta name="author" content="Sunny Cho">
    

    <!--Open Graph Title-->
    
        <meta property="og:title" content="QuantPsy"/>
    

    <!--Open Graph Description-->
    

    <!--Open Graph Site Name-->
    <meta property="og:site_name" content="QuantPsy"/>

    <!--Type page-->
    
        <meta property="og:type" content="website" />
    

    <!--Page Cover-->
    

    <meta name="twitter:card" content="summary" />
    

    <!-- Title -->
    
    <title>page - QuantPsy</title>

    <!-- Bootstrap Core CSS -->
    <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.2/css/bootstrap.min.css" integrity="sha384-y3tfxAZXuh4HwSYylfB+J125MxIs6mR5FOHamPBG064zB+AFeWH94NdvaCBm8qnd" crossorigin="anonymous">

    <!-- Custom Fonts -->
    <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css">

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="//oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="//oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

    <!-- Gallery -->
    <link href="//cdnjs.cloudflare.com/ajax/libs/featherlight/1.3.5/featherlight.min.css" type="text/css" rel="stylesheet" />

    <!-- Custom CSS -->
    <link rel="stylesheet" href="/css/style.css">

    <!-- Google Analytics -->
    


</head>


<body>

<div class="bg-gradient"></div>
<div class="bg-pattern"></div>

<!-- Menu -->
<!--Menu Links and Overlay-->
<div class="menu-bg">
    <div class="menu-container">
        <ul>
            
            <li class="menu-item">
                <a href="/">
                    Home
                </a>
            </li>
            
            <li class="menu-item">
                <a href="/archives">
                    Archives
                </a>
            </li>
            
            <li class="menu-item">
                <a href="/about">
                    About
                </a>
            </li>
            
            <li class="menu-item">
                <a href="/tags">
                    Tags
                </a>
            </li>
            
            <li class="menu-item">
                <a href="/categories">
                    Categories
                </a>
            </li>
            
            <li class="menu-item">
                <a href="/contact.html">
                    Contact
                </a>
            </li>
            
        </ul>
    </div>
</div>

<!--Hamburger Icon-->
<nav>
    <a href="#menu"></a>
</nav>

<div class="container">

    <!-- Main Content -->
    <div class="row">
    <div class="col-sm-12">

        <!--Title and Logo-->
        <header>
    <div class="logo">
        <a href="/"><i class="logo-icon fa fa-cube" aria-hidden="true"></i></a>
        
            <h1 id="main-title" class="title">QuantPsy</h1>
        
    </div>
</header>

        <section class="main">
            
                
<div class="post">

    <div class="post-header index">
        <h1 class="title">
            <a href="/2020/04/02/beakjoon-1-5/">
                [BaekJoon] A+B
            </a>
        </h1>
        <div class="post-info">
            
                <span class="date">2020-04-02</span>
            
            
            
                <span class="category">
                    <a href="/categories/baekjoon/">BAEKJOON</a>
                </span>
            
        </div>
    </div>

    
        <div class="content">
            <h4 id="문제"><a href="#문제" class="headerlink" title="문제"></a>문제</h4><p>두 정수 A와 B를 입력받은 다음, A+B를 출력하는 프로그램을 작성하시오.</p>
<p><br></p>
<h4 id="입력"><a href="#입력" class="headerlink" title="입력"></a>입력</h4><p>첫째 줄에 A와 B가 주어진다. (0 &lt; A, B &lt; 10)</p>
<p><br></p>
<h4 id="출력"><a href="#출력" class="headerlink" title="출력"></a>출력</h4><p>첫째 줄에 A+B를 출력한다.</p>
<p><br></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.Scanner;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Main</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		Scanner input = <span class="keyword">new</span> Scanner(System.in);</span><br><span class="line">		<span class="keyword">int</span> A = input.nextInt();</span><br><span class="line">		<span class="keyword">int</span> B = input.nextInt();</span><br><span class="line">		System.out.print(A+B);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><br></p>
<p>위의 코드는 제출하여 맞았습니다!를 받았지만 마음에 걸리는 부분은 입력과 출력 조건에 있다. 입력도 첫째 줄, 출력도 첫째 줄이어서 우선 고민하다가 편한대로 제출해봤는데 통과가 되었다. 필요없는 고민이었던건가 싶어 1등 코드를 찾아보니 다음과 같은 신선한 코드가 있었다.</p>
<p><br></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">AplusB</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException</span>&#123;</span><br><span class="line">		<span class="keyword">int</span> a = System.in.read();</span><br><span class="line">		System.in.read();</span><br><span class="line">		<span class="keyword">int</span> b = System.in.read();</span><br><span class="line">		System.in.read();</span><br><span class="line">		a=a-<span class="number">48</span>;</span><br><span class="line">		b=b-<span class="number">48</span>;</span><br><span class="line">		System.out.println(a+b);		</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><br></p>
<p>결론절 쓸데없는 고민이었던 것으로 한다.</p>

        </div>
    

</div>
            
                
<div class="post">

    <div class="post-header index">
        <h1 class="title">
            <a href="/2020/04/01/hci-paper-survey/">
                [HCI] CHI 2018 Paper Survey
            </a>
        </h1>
        <div class="post-info">
            
                <span class="date">2020-04-01</span>
            
            
            
                <span class="category">
                    <a href="/categories/hci/">HCI</a>
                </span>
            
        </div>
    </div>

    
        <div class="content">
            <h1 id="Review-on-CHI-2018-Paper"><a href="#Review-on-CHI-2018-Paper" class="headerlink" title="Review on CHI 2018 Paper"></a>Review on CHI 2018 Paper</h1><p><br></p>
<h4 id="Predicting-Human-Performance-in-Vertical-Menu-Selection-Using-Deep-Learning"><a href="#Predicting-Human-Performance-in-Vertical-Menu-Selection-Using-Deep-Learning" class="headerlink" title="Predicting Human Performance in Vertical Menu Selection Using Deep Learning"></a>Predicting Human Performance in Vertical Menu Selection Using Deep Learning</h4><p><br></p>
<h5 id="ABSTRACT"><a href="#ABSTRACT" class="headerlink" title="ABSTRACT"></a>ABSTRACT</h5><p>Predicting human performance in interaction tasks allows designers or developers to understand the expected performance of a target interface without autually testing it with real users. In this work, we present a deep neural net to model and predict human performance in performing a sequence of UI tasks. In particular, we focus on a dominant class of tasks, i.e., target selection from a vertical list or menu. We experimented with our deep neural net using a public dataset collected from a desktop laboratory environment and a dataset collected from hundreds of touchscreen smartphone users via crowdsourcing. Our model significantly outperformed previous methods on these datasets. Importantly, our method, as a deep model, can easily incorporate additional UI attributes such as visual apperance and content semantics without changing model architectures. By understanding about how a deep learning model learns from human behaviors, our approach can be seen as a vehicle to discover new patterns about human behaviors to advance analytical modeling.</p>
<p><br></p>
<h5 id="INTRODUCTION"><a href="#INTRODUCTION" class="headerlink" title="INTRODUCTION"></a>INTRODUCTION</h5><p>Seeking models for predicting human performance in performing an interaction task has long been pursued in the field of human computer interaction. In addtion to the scientific value of understanding human behaviors, creating these models has practical values in user interface design and development. A predictive model allows a developer or designer to understand the expected performance of an interface without having to test it with real users, which can be expensive and effort consuming.</p>
<p><br></p>
<p>Several predictive models of human performance have been devised, including Fitts’ law and Hick’s law, which rooted in information theory and experimental psychology. However, these models capture a certain aspect of human performance in isolation, e.g., motor control or decision making. They are limited in modeling human performance in realistic interaction tasks where multiple factors interplay.</p>
<p><br></p>
<p>In this work, we take a departure from existing analytical approaches for performance modeling by using a data-driven approach based on the recent advance in deep learning. Deep learning has proven successful in many domains, such as computer vision and natural language processing. It relieves the need of careful feature engineering and of a great amount of domain knowledge in creating a predictive model. It can also capture patterns that only manifest in the data but are difficult to articulate in an analytical form.</p>
<p><br></p>
<p>In particular, we devise a predictive model for interaction performance based on a deep recurrent neural net architecture using Long-Short Term Memory(LSTM). The unique architecture of our LSTM-based model allows us to naturally capture a variety of factors that come into play in UI tasks, including not only what human users are perceiving and performing at the moment but also what they have learned from the past regarding an interaction task.</p>
<p><br></p>
<p><img src="/image/hci1.png" alt="hci1"></p>
<p><br></p>
<p>Figure 1. A high-level illustration of our approach for predicting human time performance. The model, mimicking a human user, not only sees the UI and task at the moment but also remembers what is has experienced previously, through its recurrent layer. The representation of the UI and task at each step is ahieved via another recurrent net.</p>
<p><br></p>
<p>To scope our work, we focus on a common task on desktop and smartphones, where users select a target item from a vertical menu or list, e.g., choosing a song to play, a person to contact, selecting an application in the start menu or simply activating a command in a drop-dowwn menu. Because users often need to perform these selection tasks repeatedly over the time, we investigate our approach in the context of a sequence of selection tasks.</p>
<p><br></p>
<p>We design a novel hierarchical deep architecture for menu performance modeling. In our architecture, a recurrent neural net is used to encode UI attributes and tasks at each target item selection. This allows us to represent a menu with a varied length and to easily incorporate any additional UI attributes such as visual appearance and semantics. We then use another recurrent net to capture learning effects, a major component in human performance. The entire model is learned end-to-end using stochastic gradient descent. The model outperforms existing analytical methods in various settings for predicting selection time. Importantly, it is easily extensible for accomodating new UI feature and human factors involved in an interaction task.   </p>

        </div>
    

</div>
            
                
<div class="post">

    <div class="post-header index">
        <h1 class="title">
            <a href="/2020/03/31/beakjoon-1-1/">
                [BaekJoon] Hello World
            </a>
        </h1>
        <div class="post-info">
            
                <span class="date">2020-03-31</span>
            
            
            
                <span class="category">
                    <a href="/categories/baekjoon/">BAEKJOON</a>
                </span>
            
        </div>
    </div>

    
        <div class="content">
            <h2 id="컴파일-에러"><a href="#컴파일-에러" class="headerlink" title="컴파일 에러"></a>컴파일 에러</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">HelloWorld</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		System.out.println(<span class="string">"Hello World!"</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><br></p>
<h2 id="런타임-에러"><a href="#런타임-에러" class="headerlink" title="런타임 에러"></a>런타임 에러</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">HelloWorld</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		System.out.print(<span class="string">"Hello World!"</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><br></p>
<h2 id="맞았습니다"><a href="#맞았습니다" class="headerlink" title="맞았습니다!"></a>맞았습니다!</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Main</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"Hello World!"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

        </div>
    

</div>
            
                
<div class="post">

    <div class="post-header index">
        <h1 class="title">
            <a href="/2020/03/31/beakjoon-1-2/">
                [BaekJoon] We love kriii
            </a>
        </h1>
        <div class="post-info">
            
                <span class="date">2020-03-31</span>
            
            
            
                <span class="category">
                    <a href="/categories/baekjoon/">BAEKJOON</a>
                </span>
            
        </div>
    </div>

    
        <div class="content">
            <h4 id="문제"><a href="#문제" class="headerlink" title="문제"></a>문제</h4><p>ACM-ICPC 인터넷 예선, Regional, 그리고 World Finals까지 이미 2회씩 진출해버린 kriii는 미련을 버리지 못하고 왠지 모르게 올 해에도 파주 World Finals 준비 캠프에 참여했다. 대회를 뜰 줄 모르는 지박령 kriii를 위해서 격려의 문구를 출력해주자.</p>
<p><br></p>
<h4 id="입력"><a href="#입력" class="headerlink" title="입력"></a>입력</h4><p>본 문제는 입력이 없다.</p>
<p><br></p>
<h4 id="출력"><a href="#출력" class="headerlink" title="출력"></a>출력</h4><p>두 줄에 걸쳐 “강한친구 대한육군”을 한 줄에 한 번씩 출력한다.</p>
<p><br></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Welovekriii</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">2</span>; i++)</span><br><span class="line">			System.out.println(<span class="string">"강한친구 대한육군"</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

        </div>
    

</div>
            
                
<div class="post">

    <div class="post-header index">
        <h1 class="title">
            <a href="/2020/03/29/SEM-%EC%B8%A1%EC%A0%95%EB%AA%A8%ED%98%95%EC%9D%98-%ED%99%95%EC%9E%A5/">
                [SEM] 측정모형의 확장
            </a>
        </h1>
        <div class="post-info">
            
                <span class="date">2020-03-29</span>
            
            
            
                <span class="category">
                    <a href="/categories/structural-equation-modeling/">structural equation modeling</a>
                </span>
            
        </div>
    </div>

    
        <div class="content">
            <h1 id="측정모형의-확장"><a href="#측정모형의-확장" class="headerlink" title="측정모형의 확장"></a>측정모형의 확장</h1><h6 id="본-포스팅은-lt-구조방정식-모형의-기본과-확장-gt-을-바탕으로-진행합니다"><a href="#본-포스팅은-lt-구조방정식-모형의-기본과-확장-gt-을-바탕으로-진행합니다" class="headerlink" title="본 포스팅은 &lt;구조방정식 모형의 기본과 확장&gt;을 바탕으로 진행합니다."></a>본 포스팅은 &lt;구조방정식 모형의 기본과 확장&gt;을 바탕으로 진행합니다.</h6><p><br></br></p>
<h3 id="다집단요인분석과-MIMIC-모형"><a href="#다집단요인분석과-MIMIC-모형" class="headerlink" title="다집단요인분석과 MIMIC 모형"></a>다집단요인분석과 MIMIC 모형</h3><p>다집단 요인분석(multiple-group factor analysis)은 여러 맥락에서 상당히 자주 사용되는 분석 방법인데, 이를 실행할 때 측정불변성(measurement invariance) 또는 측정동일성(measurement equivalence)을 확인하는 작업이 매우 중요하다. 측정불변성이란 여러 집단(성별, 인종, 문화집단 등)에 걸쳐 동일한 요인구조가 나타나고 있는지를 가리키는 용어다. 이는 모형에서 설정된 잠재변수와 지표변수 사이의 관계에 대하여 집단변수가 조절효과(moderation effect)를 가지고 있느냐로 표현할 수도 있다. 집단 간에 다른 구조가 나타나고 있다면 조절효과가 있다고 이야기한다. 통계에서 말하는 상호작용 효과(interaction effect)와도 통하는 개념이다. 측정불변성은 사실 여러 집단뿐만 아니라 여러 시점에 걸쳐서 같은 요인구조가 나타나는지를 확인하는 경우도 있다. 이런 경우 종단 측정불변성(longitudinal measurement invariance)이라고 한다. 여러 집단에 걸쳐 나타나든 또는 여러 시점에 걸쳐 나타나든 간에 측정불변성이 확보되지 못한 경우에는 측정된 자료의 해석이 제한받을 수 있기 때문에 유의하여야 한다. 다집단 요인분석에서 집단 간 잠재평균의 차이를 확인하고자 하는 것이 목적일 때 MIMIC) 모형의 사용이 유용할 수 있다. 다집단 요인분석을 자세하게 다룬 후에 다집단 요인분석의 대안으로서의 MIMIC 모형을 살펴본다.</p>
<p><br></br></p>
<h4 id="측정불변성-소개"><a href="#측정불변성-소개" class="headerlink" title="[측정불변성 소개]"></a>[측정불변성 소개]</h4><p>요인모형에서 측정불변성을 확인하는 세부적인 이유와 목적은 여러 가지가 있을 수 있다. 예를 들어, 집단 간에 잠재변수의 평균이 같은지를 비교하기 위하여, 또 여러 집단에 걸쳐 구인 타당도가 동일하게 확보되는지를 알아보기 위하여 측정불변성을 확인할 수도 있고, 여러 시점에 걸쳐 회귀 효과를 볼 때 각 시점에서의 요인구조가 같은지를 보기 위하여 측정불변성을 확인할 수도 있으며, 구조방정식 모형의 경로 동일성을 확인하기 위한 전 단계로 측정불변성을 확인할 수도 있다. 구조방정식 모형에서 집단 간 경로의 동일성을 확인하기 위해서는 측정모형 부분에서 측정불변성이 확보되어야 하는데, 이 확인 과정은 측정모형에서 할 수도 있고 구조방정식 모형에서 할 수도 있다. 이후에 더 자세한 설명이 예와 함께 주어질 것이다. 이런 여러 가지 목적으로 사용되는 다집단 요인분석을 통한 측정불변성의 확인은 특히 잠재변수(요인)과 지표변수 간의 관계라는 맥락에서 적절한 단어라고 할 수 있다. 간단히 말해서 만약 지표변수들과 잠재변수들 사이의 구조, 즉 관계가 여러 집단이나 시점에 걸쳐 다르지 않다면 측정불변성이 있다고 이야기한다. 예를 들어, 여러 관찰변수에 의해서 측정되는 우울 구인이 남녀 집단 중 어디에서 더 심한지를 확인하기를 원한다면 일단 남녀 집단에서 각각 측정되는 우울이란 구인이 동일한 의미를 지니고 있는지를 확인해야 하는 것이다. 이제 아래 식에 있는 지표변수와 잠재변수의 관계 모형, 즉 측정모형을 통해 측정불변성에 대하여 알아보도록 하자.</p>
<p><br></br></p>
<script type="math/tex; mode=display">x_1 = \mu_1 + \lambda_{11}{f_1} + \lambda_{12}{f_2} + ... + \lambda_{1m}{f_m} + e_1</script><script type="math/tex; mode=display">x_2 = \mu_2 + {\lambda}_{21}{f_1} + {\lambda}_{22}{f_2} + ... + {\lambda}_{2m}{f_m} + e_2</script><script type="math/tex; mode=display">\vdots</script><script type="math/tex; mode=display">x_p = \mu_p + {\lambda}_{p1}{f_1} + {\lambda}_{p2}{f_2} + ... + {\lambda}_{pm}{f_m} + e_p</script><p><br></br></p>
<p>위의 식에서 $\mathit{x}$는 지표변수, $\mu$는 절편, $\lambda$는 요인부하, $\mathit{f}$는 요인(잠재변수), $\mathit{e}$는 측정오차다. 기본적으로 여러 집단 간의 측정불변성은 요인모형을 여러 단계에 걸쳐 이루어지는 모형 비교 검정을 통하여 확인하게 된다. 예를 들어, 집단 간에 요인의 종류는 동일한지, 그 요인들을 측정하는 지표변수들은 서로 동일한지, 집단 간에 요인모형의 요인부하($\lambda$)가 서로 동일한지, 절편은 동일한지, 측정오차의 분산은 동일한지 등을 검정하게 된다. 이러한 단계별 검정 과정에서 공분산 구조만 이용하느냐, 아니면 평균 구조까지 더하여 이용하느냐에 따라 과정은 조금 달라질 수 있다. 다시 말해, 측정동일성을 확인하는 데 있어서 $\mu_1$ ~ $\mu_p$를 사용하느냐 그렇지 않느냐를 결정해야 한다.</p>
<p>다집단 요인분석의 여러 목적 중에서 잠재평균의 비교를 위한 다집단 요인분석의 예를 보인다. 실제 요인(요인의 실제 점수)과 추정된 요인점수는 사실 같지 않다. 다시 말해, 요인점수는 기본적으로 이차(secondary) 추정으로 이루어지는 것이기 때문에 진정한 요인의 점수로부터 편향되어 있다. 추정된 요인점수는 다만 진정한 $\mathit{f}$의 지표변수 같은 것이다. 여기서는 설명을 쉽게 하기 위해서 요인점수라는 단어를 사용하였다. 한 가지 더 추가적으로 밝히면, 이런 이유 때문에 요인점수를 추정하여 이후 집단 간 평균비교를 하는 방식보다 요인모형 안에서 직접적으로 잠재평균 비교를 하는 것이 더 뛰어난 방법이다. 여기서는 공분산 행렬과 평균 벡터를 모두 이용할 것이며, 네 단계의 측정불변성 단계를 또한 모두 보여 줄 것이다. 이제 가장 첫 단계인 형태동일성 모형부터 추정하여 검정한다. 다집단 요인분석을 설명하는 데 있어서 실제 추정의 과정이 매우 중요하기 때문에 Mplus를 이용한 예제를 제공한다. </p>
<p><br></br></p>
<h4 id="측정불변성의-단계적-확인"><a href="#측정불변성의-단계적-확인" class="headerlink" title="측정불변성의 단계적 확인"></a>측정불변성의 단계적 확인</h4><p>형태동일성, 측정단위동일성, 절편동일성, 분산공분산동일성 등의 단계별 확인을 통하여 잠재평균의 집단 차이검정을 실시하고자 한다. 또한 각 단계에서 동일성 또는 불변성 확인이 실패한 경우 고려할 수 있는 부분측정동일성에 대하여 토론한다.</p>
<h6 id="형태동일성"><a href="#형태동일성" class="headerlink" title="형태동일성"></a>형태동일성</h6><p>동일유형불변성(equal form invariance) 또는 패턴불변성(pattern invariance)이라고도 불리는 형태동일성(configural invariance)은 집단 간에 같은 측정모형을 설정함으로써 측정불변성을 검정하는 가장 첫 번째 단계다. 이번 첫 단계에서 요인의 개수와 요인-지표변수 관계는 집단 간에 같아야 하고, 모수는 각각의 집단 내에서 다른 값으로 추정될 수 있다. 만약에 형태동일성 모형의 적합도에 문제가 있으면 측정불변성 검정의 다음 단계로 나아가지 못하며, 측정불변성 확보는 실패하게 된다. 즉, 형태동일성 모형은 측정불변성의 확인과 검정을 위한 기저모형이기 때문에 이 모형의 적합도가 좋지 않으면 다음 단계는 무의미하게 되고, 잠재평균의 비교나 구인 타당도의 확인이 원천적으로 가능하지 않게 된다. 이후에 자세히 다루겠지만, 측정단위동일성이나 절편동일성 등의 검정에 실패했을 때는 부분측정동일성(partial measurement invariance) 등을 통해 나름대로 피해 갈 수 있는 방법이 있다. 그러나 형태동일성에 문제가 생기면 아예 측정불변성 단계를 진행할 수 없게 되고, 이것은 연구자에게 있어서 큰 손실이다. 이제 Mplus를 이용하여 형태동일성 모형을 추정하도록 하자. 먼저 모형을 위한 input 부분이 아래에 있다.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">TITLE: Multiple Group CFA</span><br><span class="line"></span><br><span class="line">DATA: FILE IS <span class="string">"interest_mplus.csv"</span>;</span><br><span class="line"></span><br><span class="line">VARIABLE: NAMES ARE GEN, EDUC, AGE, COG1-COG6 PER1-PER6 INT1-INT18;</span><br><span class="line">          USEVARIABLES ARE GEN, INT1-INT18;</span><br><span class="line">          GROUPING IS GEN (<span class="number">1</span>=male, <span class="number">2</span>=female);</span><br><span class="line"></span><br><span class="line">ANALYSIS: TYPE = General;</span><br><span class="line"></span><br><span class="line">MODEL: f1 BY INT1 INT2 INT12 INT18;</span><br><span class="line">       f2 BY INT3 INT6 INT8 INT9 INT10 INT13 INT15 INT16 INT17;</span><br><span class="line">       f3 BY INT4 INT5;</span><br><span class="line">       f4 BY INT7 INT11 INT14;</span><br><span class="line">       [INT1-INT18];</span><br><span class="line">       [f1-f4@<span class="number">0</span>];</span><br><span class="line">       INT1-INT18;</span><br><span class="line"></span><br><span class="line">MODEL female: </span><br><span class="line">       f1 BY INT1@<span class="number">1</span> INT2 INT12 INT18;</span><br><span class="line">       f2 BY INT3@<span class="number">1</span> INT6 INT8 INT9 INT10 INT13 INT15 INT16 INT17;</span><br><span class="line">       f3 BY INT4@<span class="number">1</span> INT5;</span><br><span class="line">       f4 BY INT7@<span class="number">1</span> INT11 INT14;</span><br><span class="line">       [INT1-INT18];</span><br><span class="line">       [f1-f4@<span class="number">0</span>];</span><br><span class="line">       INT1-INT18;</span><br></pre></td></tr></table></figure>
<p>형태동일성 모형의 적합도가 문제인 경우에 대해 Meade와 Kroustalis(2006)의 견해는 실용적으로 매우 가치가 있기 때문에 다음과 같이 소개하고자 한다. 형태동일성 모형의 적합도가 좋지 않은 경우 두 가지 매우 다른 원인을 생각해 볼 수 있다. 첫째는 자료 등의 문제(예: 신뢰도가 낮은 많은 수의 지표변수를 사용하는 경우)로 인해 여러 집단에서 공통적으로 좋지 않은 모형의 적합도가 발생하는 경우이고, 둘째는 정말로 집단 간 요인의 구조가 달라서 좋지 않은 모형의 적합도가 발생하는 경우다. 예를 들어, $\mathit{f_1}$을 측정하는 지표변수의 세트가 집단1과 집단2 간에 서로 다른 것이다. Meade와 Kroustalis(2006)는 만약 모형의 적합도 문제가 첫 번째 이유로 발생한 경우 측정불변성의 검정 단계를 진행할 수 있다고 하였다. 실제 여러 학문 분야에서 종종 많은 연구자가 신뢰도나 타당도가 정밀하게 확인되지 않은 심리 척도를 사용한다. 이때 측정치는 이상적이지 못하게 되고, 모든 집단에서 공통적으로 약점을 드러내어 전체적인 형태동일성 모형의 적합도를 떨어뜨릴 수 있다. 이런 경우 모형의 적합도가 좋지 않음에도 불구하고 측정불변성을 보일 수 있다고 그들은 주장한다.</p>
<p>Meade와 Kroustalis(2006)는 개별적인 문항들을 사용하여 요인모형을 추정한 결과 모형의 적합도가 좋지 않게 드러났을 때 그 이유를 확인하기 위하여 여러 집단에 걸쳐 따로 CFA 모형이나 EFA 모형을 추정하여 그 결과를 확인할 것을 제안하였다. 예를 들어, 집단 간에 따로 CFA 모형이나 EFA 모형을 추정하였는데 한 집단에서는 적합도가 매우 좋고 다른 집단에서는 매우 좋지 않다면 측정불변성 확인을 멈추고, 반면 둘이 서로 비슷하게 좋지 않다면 다음 단계로 가는 것을 고려해 보는 것이다. 또한 추가적으로 만약 EFA 모형의 추정 결과 요인구조가 집단 간에 매우 다르다면 측정불변성 확인 단계를 완전히 멈추고, 반면 만약에 비슷한 요인구조가 나타난다면 형태동일성 모형의 좋지 않은 모형 적합도에도 불구하고 측정불변성 확인 단계를 진행하게 되는 것이다.</p>
<p>이쯤에서 잠재변수의 평균이라는 것을 잠깐 고민해 보자. 잠재변수란 보이지 않는 질적이고 추상적인 개념을 양적으로 형성한 것이다. 이때 양적으로 형성된 잠재변수의 절대값에 특정한 의미가 있는 것은 아님을 이해할 필요가 있다. 예를 들어, 오늘날 사람들이 지능을 측정하기 위해 사용하는 IQ의 평균 100을 중심으로 표준편차 15를 가지도록 설계된 것인데, 만약 IQ의 평균이 1,000이고 표준편차가 150을 가지도록 설계했다면 무슨 문제 될 것이 있을까? 만약 평균을 0으로 하고 표준편차를 1이 되도록 설계했다면 이는 또 무슨 다른 점이 있을까? 지능은 상대적인 것이고 IQ 또한 그 상대성을 반영하는 것이기 때문에 통계적으로나 수학적으로 아무런 차이가 없다. 100을 주심으로 변동성을 가지는 것이 IQ라면 다만 평균적인 지능을 가진 사람의 IQ는 100이 될 것이고, 0을 중심으로 변동성을 가지는 것이 IQ라면 평균적인 지능을 가진 사람의 IQ는 0이 될 뿐이다. 이와 같은 부분은 집단간에 잠재변수의 평균을 추정하는 기술적인 상황에서도 상당히 중요하다. 두 집단에서 각 두 개의 잠재평균을 추정하려고 하면 총 네 개의 추가적인 모수를 추정하는 것이 아니라, 한 집단의 잠재평균들을 모두 0으로 고정하고 다른 집단의 잠재평균이 0 대비 더 큰지 작은지만 추정하여 확인하면 된다. 예를 들어, 남자 집단의 잠재평슌 두 개를 0으로 고정하고 여자 집단의 잠재평균 두 개만 추정하면 된다. 또 한 가지 더, 형태동일성 모형에서 부분측정단위동일성 모형, 이어서 부분절편동일성 모형의 단계는 모형이 점점 단순해지는 과정이지만, 부분절편동일성 모형을 기반으로 잠재평균의 차이를 검정하는 모형은 더 복잡해진 모형이다. 이는 부분절편동일성 모형에서 잠재평균 비교 모형이 모수에 대한 제약을 함으로써 더 진행한 것이 아니고, 두 개의 잠재평균 모수를 더 추정하는 단계이기 때문이다.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">TITLE: Multiple Group CFA <span class="keyword">with</span> strong invariance</span><br><span class="line"></span><br><span class="line">DATA: FILE IS <span class="string">"interest_mplus.csv"</span>;</span><br><span class="line"></span><br><span class="line">VARIABLE: NAMES ARE GEN, EDUC, AGE, COG1-COG6 PER1-PER6 INT1-INT18;</span><br><span class="line">          USEVARIABLES ARE GEN, INT1-INT18;</span><br><span class="line">          GROUPING IS GEN (<span class="number">1</span>=male, <span class="number">2</span>=female);</span><br><span class="line"></span><br><span class="line">ANALYSIS: TYPE = General;</span><br><span class="line"></span><br><span class="line">MODEL: f1 BY INT1 INT2 INT12 INT18;</span><br><span class="line">       f2 BY INT3 INT6 INT8 INT9 INT10 INT13 INT15 INT16 INT17;</span><br><span class="line">       f3 BY INT4 INT5;</span><br><span class="line">       f4 BY INT7 INT11 INT14;</span><br><span class="line">       [INT1-INT18];</span><br><span class="line">       [f1-f4@<span class="number">0</span>];</span><br><span class="line">       INT1-INT18;</span><br><span class="line"></span><br><span class="line">MODEL female:</span><br><span class="line">       [INT11, INT7, INT12]; </span><br><span class="line">       [f1-f4];</span><br><span class="line">       INT1-INT18;</span><br></pre></td></tr></table></figure>
<p>위에서 MODEL female 커맨드를 보면 [f1-f4@0];가 [f1-f4];로 바뀐 것을 확인할 수 있다. 이에 반해 MODEL 커맨드의 [f1-f4@0];는 바뀌지 않았다. 즉, 전체 집단의 모든 잠재평균을 0으로 고정한 상태에서 여자 집단의 두 잠재평균만 자유롭게 추정되도록 설정한 것이다. 이렇게 함으로써 남자 집단의 두 잠재평균은 모두 0인 상태에서 여자 집단의 두 잠재평균 추정치가 상대적으로 어떤 값을 가지게 되느냐를 확인할 수 있다. 만약 여자 집단의 추정치가 양수가 된다면 이는 남자의 잠재평균보다 더 높다는 의미고, 만약 음수가 나온다면 남자의 잠재평균보다 더 낮다는 의미가 된다.</p>
<p><br></br></p>
<h4 id="MIMIC-모형을-이용한-집단-차이-검정"><a href="#MIMIC-모형을-이용한-집단-차이-검정" class="headerlink" title="MIMIC 모형을 이용한 집단 차이 검정"></a>MIMIC 모형을 이용한 집단 차이 검정</h4><p>MIMIC(multiple indicators multiple causes) 모형은 확인적 요인분석모형에 공변수(covariate)가 더해진 모형이다. MIMIC 모형은 잠재변수에 대한 연속형 또는 범주형(특히 이분형) 공변수의 효과를 확인하려고 하는 모형이다. 요인분석모형의 간단한 확장이기 때문에 긴 설명이 필요 없을 만큼 단순한 모형이다. 사실 요인분석모형에 요인을 설명하는 공변수를 더하게 되면 요인분석모형이라기보다는 구조방정식 모형에 더 가까워진다.</p>
<p><br></br></p>
<p><img src="/image/MIMIC.jpeg" alt="MIMIC"></p>
<p><br></br></p>
<p>위 그림에 두 개의 요인과 각 세 개의 지표변수 그리고 하나의 공변수(실제로는 여러 개도 상관없다)가 있는 MIMIC 모형의 경로도가 제공되어 있다. 경로도에 제공된 모형과 MIMIC 모형의 이름을 비교해 보면 multiple indicators는 요인 측정을 위한 여러 개의 지표변수를 가리키며, multiple causes는 요인을 설명하는 여러 개의 공변수를 가리킨다. 위의 경로도에서는 설명오차간 상관을 허락하였는데, 이는 설정할 수도 있고 그렇지 않을 수도 있다. MIMIC 모형은 한편으로는 요인의 구조를 확인하고, 또 한편으로는 공변수의 요인에 대한 영향력을 검정한다. 공변수의 요인에 대한 영향력은 구조모형 또는 회귀모형 부분이다. 즉, 연속형이든 이분형이든 공변수에서 요인들로 향하는 경로는 회귀분석 모형의 기울기 부분이다. 반드시 그렇지는 않지만 일반적으로 MIMIC 모형에서는 공변수가 집단변수인 경우가 흔하다. 이런 경우 공변수의 효과라는 것은 결국 집단 간에 잠재평균의 차이가 있느냐를 의미한다.    </p>

        </div>
    

</div>
            
                
<div class="post">

    <div class="post-header index">
        <h1 class="title">
            <a href="/2020/03/22/cm-review-1-1/">
                [Computational Modeling] Review (1)
            </a>
        </h1>
        <div class="post-info">
            
                <span class="date">2020-03-22</span>
            
            
            
                <span class="category">
                    <a href="/categories/computational-modeling/">Computational Modeling</a>
                </span>
            
        </div>
    </div>

    
        <div class="content">
            <h1 id="Computational-Modeling-Review"><a href="#Computational-Modeling-Review" class="headerlink" title="Computational Modeling Review"></a>Computational Modeling Review</h1><h5 id="본-포스팅은-“Computational-Models-of-Cognition-and-Behavior-2018-”와-“Bayesian-Cognitive-Modeling”을-정리한-내용입니다"><a href="#본-포스팅은-“Computational-Models-of-Cognition-and-Behavior-2018-”와-“Bayesian-Cognitive-Modeling”을-정리한-내용입니다" class="headerlink" title="본 포스팅은 “Computational Models of Cognition and Behavior(2018)”와 “Bayesian Cognitive Modeling”을 정리한 내용입니다."></a>본 포스팅은 “Computational Models of Cognition and Behavior(2018)”와 “Bayesian Cognitive Modeling”을 정리한 내용입니다.</h5><p><br></p>
<h4 id="1-Introduction"><a href="#1-Introduction" class="headerlink" title="1 Introduction"></a>1 Introduction</h4><h5 id="Models-and-Theories-in-Science"><a href="#Models-and-Theories-in-Science" class="headerlink" title="Models and Theories in Science"></a>Models and Theories in Science</h5><p>Cognitive scientists seek to understand how the mind works. That is, we want to describe and predict people’s behavior, and we ultimately wish to explain it, in the same way that physicists predict the motion of an apple that is dislodged from its tree (and can accuratetly describe its downward path) and explain its trajectory (by applealing to gravity). For example, if you forgot someone’s name when you are distracted seconds after being introduced to her, we would like to know what cognitive process is responsible for this failure. Was it lack of attention? Forgetting over time? Can we know ahead of time whether or not you will remember that person’s name?</p>
<p><br></p>
<p>The central thesis of this book is that to answer questions such as these, cognitive scientists must rely on quantitative mathematical models, just like physicists who research gravity. We suggest that to expand our knowledge of the human mind, consideration of the data and verbal theorizing are insufficient on their own.</p>
<p><br></p>
<p>This thesis is best illustrated by considering something that is simpler and more readily understood that the mind. Have a look at the data which represent the position of planets in the night sky over time. How might one descibe thie peculiar pattern of motion? How would you explain it? The strange loops in the otherwise consistently curvlinear paths describe the famous “retrograde motion” of the planets - that is, their propensity to suddenly reverse direction for sometime before resuming their initial path. What explains retrograde motion? It took more than a thousand years for a satisfactory answer to that question to become available, when Copernicus replaced the goecentric Ptolemaic system with a heliocentric model: Today, we know that retrograde motion arises from the fact that the planets travel at different speeds along their orbits; hence, as Earth “overtakes” Mars, for example, the red planet will appear to reverse direction as it falls behind the speeding Earth.</p>
<p><br></p>
<p>This example permits several conclusions that will be relevant throughout the reminder of this book. First, the pattern of data deifes description and explanation unless one has a model of the underlying process. It is only with the aid of a model that one can describe and explain planetary motion, even at a verbal level. Second, any model that explains the data is itself unobservable. That is, although the Copernican model is readily communicated and represented, it cannot be directly observed. Instead, the model is an abstract explanatory device that “exists” primaily in the minds of the people who use it to describe, predict, and explain the data. Third, there nealy always are several possible models that can explain a given data set. This point is worth exploring in a bit more detail. The answer to this question is quite fascinating and requires that we move toward a quantitative level of modeling.</p>
<p><br><br></p>
<h5 id="Memory-retention"><a href="#Memory-retention" class="headerlink" title="Memory retention"></a>Memory retention</h5><p>Finding a lawful relationship between memory retention and time is one of the oldest cognitive modeling question, going back to Ebbinghaus in the 1880s. The usual experiment involves giving people many items of information on a list, and then testing their ability to remember itmes from the list after different periods of time have elapsed. Various mathematical functions, usually with psychological interpretations, have been proposed as describing the relationship between time and the level of retention. </p>
<p><br></p>
<p>We consider a simplified version of the exponential decay model. The model assumes that the probability that an item will be remembered after a period of time $\mathit{t}$ has elapsed is $\theta_t = exp(-\alpha t) + \beta$, with the restriction $0 &lt; \theta_t &lt; 1$. The $\alpha$ parameter corresponds to the rate of decay of information. The $\beta$ parameter corresponds to a baseline level of remembering that is assumed to remain even after very long time periods. Our analyses using this model are based on fictitious data from a potential memory retention study, to help illustrate key modeling points.</p>
<p><br></p>
<p><img src="/image/cm1.png" alt="cm1"></p>
<p><br></p>
<p>These data are given in Table 10.1, and relate to 4 subjects tested on 18 items at 10 time intervals: 1, 2, 4, 7, 12, 21, 35, 59, 99, and 200. The number of items tested and the first 9 time intervals are those used by Rubin et al. (1999). Each datum in Table 10.1 counts the number of correct memory recalls for each subject at each time interval. Included in Table 10.1 are missing data, shown by “?” symbols, so subjects have missing data for the final time period of 200, which tests the ability of models to generalize to new measurements. For Subject 4, these are no data at all, which tests the ability of models to generalize to new subjects. </p>
<p><br></p>
<p><img src="/image/cm2.png" alt="cm2"></p>
<p><br></p>
<h5 id="No-individual-differences"><a href="#No-individual-differences" class="headerlink" title="No individual differences"></a>No individual differences</h5><p>The graphical model for our first attempt to account for the data is shown in Figure 10.1. The model assumes that every subject has the same retention curve, and so there is one true value for the $\alpha$ and $\beta$ parameters. The outer plate corresponds to the different time periods with values given by the observed $t_j$ variable. Together with the $\alpha$ and $\beta$ parameters, the time period defines the probability $\theta_j$ that the jth item will be remembered. The inner plate corresponds to the subjects. Each has the same probability of recall at any given time period, but their experimental data, given by the success counts $k_{ij}$, vary, and are bionomially distributed according to the success rate and number of trials.</p>
<p><br></p>
<p>The script Retention_1.txt implements the graphical model in WinBUGS. Note that the code calculates the success rate for each subject at each interval separately, and so in more elaborate than it needs to be:</p>
<p><br></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Retention With No Individual Differences</span></span><br><span class="line">model&#123;</span><br><span class="line">  <span class="comment"># Observed and Predicted Data</span></span><br><span class="line">  <span class="keyword">for</span> (i <span class="keyword">in</span> <span class="number">1</span>:ns)&#123;</span><br><span class="line">    <span class="keyword">for</span> (j <span class="keyword">in</span> <span class="number">1</span>:nt)&#123;</span><br><span class="line">      k[i, j] ~ dbin(theta[i, j], n)</span><br><span class="line">      predk[i, j] ~ dbin(theta[i, j], n)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment"># Retention Rate At Each Lag For Each Subject Decays Exponentially</span></span><br><span class="line">  <span class="keyword">for</span> (i <span class="keyword">in</span> <span class="number">1</span>:ns)&#123;</span><br><span class="line">    <span class="keyword">for</span> (j <span class="keyword">in</span> <span class="number">1</span>:nt)&#123;</span><br><span class="line">      theta[i, j] &lt;- min(<span class="number">1</span>, exp(-alpha*t[j]+beta)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment"># Priors</span></span><br><span class="line">  alpha ~ dbeta(<span class="number">1</span>,<span class="number">1</span>)</span><br><span class="line">  beta ~ dbeta(<span class="number">1</span>,<span class="number">1</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><br></p>
<p>The code applies the model to the data, and produces analysis of the posterior and posterior predictive distributions. The joint posterior distribution of $\alpha$ and $\beta$ is shown in the main panel of Figure 10.2, as a two-dimensional scatter plot.</p>
<p><br></p>
<p><img src="/image/cm3.png" alt="cm3"></p>
<p><br></p>
<p>Each of the points in the scatter-plot corresponds to a posterior sample selected at random from those available. The marginal distributions of both $\alpha$ and $\beta$ are shown below and to the right, and are based on all samples. The marginals show the distribution of each parameter, conditioned on the data, considered independently of the other parameter (i.e., averaged across the other parameter). It is clear from Figure 10.2 that the joint posterior carries more information than the two marginal distributions. If the joint posterior were independent, it would be just the product of the two marginal. But the joint posterior shows a mild relationship, with larger values of $\alpha$ generally corresponding to larger values of $\beta$.</p>
<p><br></p>
<p><img src="/image/cm4.png" alt="cm4"></p>
<p><br></p>
<p>This can be interpreted psychologically as meaning that it is uncertain whether the parameters are a relatively higher baseline coupled with a relatively higher decay rate, or a relatively lower baseline coupled with a relatively lower decay rate. Figure 10.3 shows the posterior predictive distribution over the number of successful retentions at each time interval. For each subject, at each interval, the squares show the posterior mass given to each possible number of items recalled. These correspond to the model’s predictions about observed behavior in the retention experiment, based on what the model has learned from the data. Also shown, by the black squres and connecting lines, are the actual observed data for each subject, where available. </p>
<p><br></p>
<p>The obvious feature of Figure 10.3 is that the current model does not meet a basic requirement of descriptive adequacy. For both Subjects 1 and 3 the model gives little posterior mass to the observed data at many time periods. It describes a steeper rate of decay than shown by the data of Subject 1, and a shallower rate of decay than shown by the data of Subject 3. After evaluating the model using the posterior predictive analysis, we can conclude that the modeling assumption of no individual differences is inappropriate. It is important to understand that this conclusion neuters the usefulness of the posterior distribution over parameters shown in Figure 10.2. The posterior distribution is conditioned on the assumption that the model is appropriate, and is not relevant when the model is fundamentally deficient.</p>
<p><br><br></p>
<h5 id="Full-individual-differences"><a href="#Full-individual-differences" class="headerlink" title="Full individual differences"></a>Full individual differences</h5><p>A revised graphical model that does accommodate individual differences is shown in Figure 10.4. The change from the previous model is that the ith subject now has their own $\alpha_i$ and $\beta_i$ parameters, and that the probability of retention for an item $\theta_{ij}$ now changes for both subjects and retention intervals.</p>
<p><br></p>
<p><img src="/image/cm5.png" alt="cm5"></p>
<p><br></p>
<p>The script Retention_2.txt implements the graphical model in WinBUGS:</p>
<p><br></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Retention With Full Individual Differences</span></span><br><span class="line">model&#123;</span><br><span class="line">  <span class="comment"># Observed and Predicted Data</span></span><br><span class="line">  <span class="keyword">for</span> (i <span class="keyword">in</span> <span class="number">1</span>:ns)&#123;</span><br><span class="line">    <span class="keyword">for</span> (j <span class="keyword">in</span> <span class="number">1</span>:nt)&#123;</span><br><span class="line">      k[i, j] ~ dbin(theta[i,j], n)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment"># Retention Rate At Each Lag For Each Subject Decays Exponentially</span></span><br><span class="line">  <span class="keyword">for</span> (i <span class="keyword">in</span> <span class="number">1</span>:ns)&#123;</span><br><span class="line">    <span class="keyword">for</span> (j <span class="keyword">in</span> <span class="number">1</span>:nt)&#123;</span><br><span class="line">      theta[i, j] &lt;- min(<span class="number">1</span>, exp(-alpha[i]*t[j]) + beta[i])</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment"># Priors For Each Subject</span></span><br><span class="line">  <span class="keyword">for</span> (i <span class="keyword">in</span> <span class="number">1</span>:ns)&#123;</span><br><span class="line">    alpha[i] ~ dbeta(<span class="number">1</span>,<span class="number">1</span>)</span><br><span class="line">    beta[i] ~ dbeta(<span class="number">1</span>,<span class="number">1</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><br></p>
<p>The code applies the model to the same data and again produces analysis of the posterior and posterior predictive distributions. </p>
<p><br></p>
<p><img src="/image/cm6.png" alt="cm6"></p>
<p><br></p>
<p>The joint posterior distributions for each subject are shown in the main panel of Figure 10.5. Each point in the scatter-plot corresponds to a posterior sample, with different markers representing different subjects. The first, second, third, and fourth subjects use squre, circular, triangular, and cross markers, respectively. The marginal distributions are shown below and to the right, and use different line styles to represent the subjects.</p>
<p><br></p>
<p><img src="/image/cm7.png" alt="cm7"></p>
<p><br></p>
<p>Figure 10.6 shows the same analysis of the posterior predictive distributions over the number of successful retentions at each time interval, for each subject. It is clear that allowing for individual differences lets the model achieve a basic level of descriptive adequacy for Subjects 1, 2, and 3. The posteriors in Figure 10.5 show that different values for the $\alpha$ decay parameter are used for each of these subjects, corresponding to our intuitions from the earlier analysis.</p>
<p><br></p>
<p>The weakness in the current model is evident in its predictions for Subject 4. Because each subject is assumed to have decay and baseline parameters that are different, the only information the model has about the new subject is the priors for the $\alpha$ and $\beta$ parameters. The relationships between parameters for subjects that are visually evident in Figure 10.5 are not formally captured by the model. This means, as shown in Figure 10.5, the posterior for Subject 4 are just the priors, and so the posterior predictive distribution for Subject 4, as shown in Figure 10.6, does not have any useful structure. In this way, the model fails a basic test of generalizability, since it does not make sensible predictions for the behavior of subjects other than those for whom data are available. Intuitively, one might want to predict that Subject 4 will be likely to have model parameters consistent with regularties in the inferred parameters for Subjects 1, 2, and 3.</p>
<p><br><br></p>
<h5 id="Structured-individual-differences"><a href="#Structured-individual-differences" class="headerlink" title="Structured individual differences"></a>Structured individual differences</h5><p>The relationship between the parameters of different subjects, visually evident in Figure 10.5, can be captured using a hierarchical model. A graphical model implementing this approach is shown in Figure 10.7. The key cahnge is that now the $\alpha_i$ and $\beta_i$ parameters for each subject are modeled as coming from Gaussian distributions. The over-arching Gaussian distribution models this group-level structure for each parameter. This group structure itself has parameters, in the form of means $\mu_{\alpha}$ for the decay and $\mu_{\beta}$ for the baseline, and precisions $\lambda_{\alpha}$ for the decay and $\lambda_{\beta}$ for the baseline. In this way, the individual differences between subjects are given structure.</p>
<p><br></p>
<p>Each $\alpha_i$ and $\beta_i$ parameter is independently sampled, so they can be different, but they are sampled from the same distribution, so they have a relationship to one another. This means that inferences made for one subject influence predictions made for another. This means that inferences made for one subject influence predictions made for another. Since the means and precisions of the gorup-level distributions are common to all subjects, what is learned about them from one subject affects what is known about another. In addition, because they are sampled from over-arching distributions, the $\alpha_i$, and $\beta_i$ parameters at the individual subject level no longer have priors explicitly specified, but inherit them from the priors on the means and precisions of the group-level Gaussian distributions. The script Retention_3.txt implements the graphical model in WinBUGS:</p>
<p><br></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Retention With Structured Individual Differences</span></span><br><span class="line">model&#123;</span><br><span class="line">  <span class="comment"># Observed and Predicted Data</span></span><br><span class="line">  <span class="keyword">for</span> (i <span class="keyword">in</span> <span class="number">1</span>:ns)&#123;</span><br><span class="line">    <span class="keyword">for</span> (j <span class="keyword">in</span> <span class="number">1</span>:nt)&#123;</span><br><span class="line">      k[i, j] ~ dbin(theta[i, j], n)</span><br><span class="line">      predk[i, j] ~ dbin(theta[i, j], n)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment"># Retention Rate At Each Lag For Each Subject Decays Exponentially</span></span><br><span class="line">  <span class="keyword">for</span> (i <span class="keyword">in</span> <span class="number">1</span>:ns)&#123;</span><br><span class="line">    <span class="keyword">for</span> (j <span class="keyword">in</span> <span class="number">1</span>:nt)&#123;</span><br><span class="line">      theta[i, j] &lt;- min(<span class="number">1</span>, exp(-alpha[i]*t[j]+beta[i])</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment"># Parameters For Each Subject Drawn From Gaussian Group Distributions</span></span><br><span class="line">  <span class="keyword">for</span> (i <span class="keyword">in</span> <span class="number">1</span>:ns)&#123;</span><br><span class="line">    alpha[i] ~ dnorm(alphamu, alphalambda)I(<span class="number">0</span>,<span class="number">1</span>)</span><br><span class="line">    beta[i] ~ dnorm(betamu, betalambda)I(<span class="number">0</span>,<span class="number">1</span>)</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment"># Priors For Group Distributions</span></span><br><span class="line">  alphamu ~ dbeta(<span class="number">1</span>,<span class="number">1</span>)</span><br><span class="line">  alphalambda ~ dgamma(<span class="number">.001</span>,<span class="number">.001</span>)I(<span class="number">.001</span>,)</span><br><span class="line">  alphasigma &lt;- <span class="number">1</span>/sqrt(alphalambda)</span><br><span class="line">  betalambda ~ dgamma(<span class="number">.001</span>,<span class="number">.001</span>)I(<span class="number">.001</span>,)</span><br><span class="line">  betasigma &lt;- <span class="number">1</span>/sqrt(betalambda)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><br></p>
<p>The code applies the model to the data, and again produces an analysis of the posterior and posterior predictive distributions. The joint amd marginal posterior distributions for this model are shown in Figure 10.8 using the same markers and lines as before. For Subjects 1, 2, and 3, these distributions are extremely similar to those found using the full individual differences model. The important difference is for Subject 4, who now sensible posterior distributions for both parameters. For the decay parameter $\alpha$ there is still considerable uncertainty, consistent with the range of values seen for the first three subjects, but for the baseline parameter $\beta$, Subject 4 now has a much more constrained posterior distribution.</p>
<p><br></p>
<p><img src="/image/cm8.png" alt="cm8"></p>
<p><br></p>
<p>The posterior predictive distributions for each subject under the hierarchical model are shown in Figure 10.9. The preditions remain useful for the first three subjects, and are now also appropriate for Subject 4. The structured prediction for Subject 4, from whom no data have yet been collected, comes directly from the nature of the hierarchical model. Based on the data from Subjects 1, 2, and 3, inferences are made about the means and precisions of the group distributions for the two parameters of the retention model. The new Subject 4 has values sampled from the Gaussians with these parameters, producing the sensible parameter distributions in Figure 10.8 that lead to the sensible predictive distributions in Figure 10.9.</p>
<p><br></p>
<p><img src="/image/cm9.png" alt="cm9"></p>
<p><br></p>
<p>Psychologically, hierarchical models are powerful because they are able to represent knowledge at different levels of abstraction in a cognitive process(Lee, 2011a). Just as the data have been assumed to be generated by the decay and baseline parameters combining in a memory process for individual subjects, the hierarchical model assumes that those parameters themselves are generated by more abstract latent parameters that describe group distributions across subjects. In other words, a hierarchical model lets a theory of memory retention be combined with a theory of individual differences, to provide a more complete account of behavioral data from multiple subjects.</p>

        </div>
    

</div>
            
                
<div class="post">

    <div class="post-header index">
        <h1 class="title">
            <a href="/2020/03/19/ios-%EC%95%B1-%EA%B0%9C%EB%B0%9C-%EB%8F%84%EC%A0%84%EA%B8%B0-7/">
                [iOS] 앱 개발 도전기 (7)
            </a>
        </h1>
        <div class="post-info">
            
                <span class="date">2020-03-19</span>
            
            
            
                <span class="category">
                    <a href="/categories/ios/">iOS</a>
                </span>
            
        </div>
    </div>

    
        <div class="content">
            <h1 id="테이블-뷰를-이용한-데이터-목록-구현"><a href="#테이블-뷰를-이용한-데이터-목록-구현" class="headerlink" title="테이블 뷰를 이용한 데이터 목록 구현"></a>테이블 뷰를 이용한 데이터 목록 구현</h1><p>앱에서 제공하는 콘텐츠는 생각보다 방대한 경우가 많습니다. 그렇다고 매번 검색을 통해서 데이터를 찾도록 하는 것은 터치 이벤트에 의존하는 사용자에게 무척 불편한 일입니다. 방대한 콘텐츠를 앱을 통해 제공하고, 사용자가 효율적으로 콘텐츠에 접근할 수 있도록 하려면 콘텐츠의 성격에 따라 앱의 구조와 UI를 고려해야 합니다.</p>
<p><br></p>
<p>이때 사용되는 것이 테이블 뷰 컨트롤러입니다. 테이블 뷰 컨트롤러의 표면적 역할은 목록 형태의 콘텐츠를 화면에 표현해주는 것입니다. 하지만 그 역할을 자세히 들여다보면 계층 구조를 이루는 콘텐츠의 상위 카테고리를 정렬하여 표현함으로써 방대한 콘텐츠 속에서도 사용자가 원하는 항목에 쉽게 접근할 수 있게 해 주는 특성을 지니고 있습니다.</p>
<p><br></p>
<p>테이블 뷰 컨트롤러와 내비게이션 컨트롤러는 계층적 성격의 콘텐츠를 표현해주기 위해 상호 보완적인 역할을 합니다. 테이블 뷰 컨트롤러를 이용하여 수평적 관계의 카테고리나 콘텐츠를 병렬로 배열하고, 수직적 관계로 세분한 정보들을 내비게이션 컨트롤러를 통하여 직렬로 표현하여 전체적인 앱의 콘텐츠 표현 구조를 구성하죠. </p>
<p><br></p>
<p>일반적으로 알려진 정보 검색 알고리즘에 따르면, 가장 효율적인 정보 접근 방법은 콘텐츠를 성격에 따라 계층으로 구조화하는 것입니다. 계층으로 콘텐츠를 구조화하면 상위 카테고리 하나를 선택하는 과정만으로도 원하는 정보에 접근하는 것이 훨씬 단순해지기 때문입니다. 이때 가장 고려해야 할 부분은 더 적은 횟수의 선택 과정으로 원하는 정보를 찾을 수 있게 하는 것입니다. 이것이 바로 정보 검색 알고리즘의 핵심이자 앱을 만들 때 콘텐츠 구조를 설계하는 원칙입니다. 데이터베이스의 설계 원리에 선택도(Cardinality)라는 것이 있는데, 특정 카테고리를 선택하여 나온 결과값의 개수가 적을수록 ‘선택도가 높다’고 표현하며 콘텐츠 분류가 잘되었다고 할 수 있습니다.</p>
<p><br></p>
<p>테이블 뷰를 이용하여 화면을 구성할 때는 단순히 목록을 구성하는 데에 주력하는 것이 아니라, 이러한 데이터 접근 구조에 대해서도 고려해야 합니다. 그러면서 사용자가 어떻게 하면 보다 손쉽게 원하는 콘텐츠에 접근할 수 있을 것인가를 반영하여 화면 구조를 설계해야 합니다. </p>
<p><br></p>
<p>하나의 테이블 뷰 컨트롤러 화면을 구성하는 단위는 다음과 같습니다.</p>
<p><br></p>
<h5 id="테이블-뷰-컨트롤러-gt-하나의-테이블-뷰-gt-여러-개의-테이블-뷰-섹션-gt-여러-개의-테이블-뷰-셀-gt-테이블-뷰-셀마다-하나씩-콘텐츠-뷰"><a href="#테이블-뷰-컨트롤러-gt-하나의-테이블-뷰-gt-여러-개의-테이블-뷰-섹션-gt-여러-개의-테이블-뷰-셀-gt-테이블-뷰-셀마다-하나씩-콘텐츠-뷰" class="headerlink" title="테이블 뷰 컨트롤러 &gt; 하나의 테이블 뷰 &gt; 여러 개의 테이블 뷰 섹션 &gt; 여러 개의 테이블 뷰 셀 &gt; 테이블 뷰 셀마다 하나씩 콘텐츠 뷰"></a>테이블 뷰 컨트롤러 &gt; 하나의 테이블 뷰 &gt; 여러 개의 테이블 뷰 섹션 &gt; 여러 개의 테이블 뷰 셀 &gt; 테이블 뷰 셀마다 하나씩 콘텐츠 뷰</h5><p><br><br></p>

        </div>
    

</div>
            
                
<div class="post">

    <div class="post-header index">
        <h1 class="title">
            <a href="/2020/03/19/ios-%EC%95%B1-%EA%B0%9C%EB%B0%9C-%EB%8F%84%EC%A0%84%EA%B8%B0-6/">
                [iOS] 앱 개발 도전기 (6)
            </a>
        </h1>
        <div class="post-info">
            
                <span class="date">2020-03-19</span>
            
            
            
                <span class="category">
                    <a href="/categories/ios/">iOS</a>
                </span>
            
        </div>
    </div>

    
        <div class="content">
            <h1 id="델리게이트-패턴"><a href="#델리게이트-패턴" class="headerlink" title="델리게이트 패턴"></a>델리게이트 패턴</h1><p>iOS 앱의 객체는 델리게이트 패턴(Delegate Pattern)이라고 불리는 일종의 위임 패턴을 많이 사용합니다. 이 패턴은 iOS 앱 코드의 전반적 구조를 이루는 아주 중요한 부분이므로, 이것을 충분히 이해해야만 iOS 기반의 앱을 원활하게 작성할 수 있습니다. 일반적인 단어로 널리 사용되는 패턴(Pattern)이란 반복해서 나타나는 사건이나 형태를 의미합니다. 보통 예측 가능한 방식으로 되풀이된다는 점에서 그 의미가 있죠. 객체지향 프로그래밍에서는 디자인 패턴(Design Pattern)이라는 합성 용어로 사용되는 경우가 대부분입니다. 여기서 디자인이란 프로그램 구성에 대한 디자인 즉, 구조적 설계를 의미합니다. 객체지향 프로그래밍에서는 객체 간의 관계가 중요한데, 설계에 관한 문제를 해결하기 위한 해법으로 객체들의 관계를 구조화한 사례가 일반화된 것이 디자인 패턴입니다.</p>
<p><br></p>
<p>델리게이트 패턴은 쉽게 말해 객체지향 프로그래밍에서 하나의 객체가 모든 일을 처리하는 것이 아니라 처리해야 할 일 중 일부를 다른 객체에 넘기는 것을 말합니다. 이는 효율성 관점에서 아주 중요한 역할을 합니다. 기능을 위임할 수 있는 객체가 있다는 것은 그만큼 직접 구현해야 하는 부분이 적다는 뜻이기 때문에 큰 규모의 프로그램을 빠르게 작성할 수 있습니다. 모든 기능을 직접 처리해주려면 코딩양이 매우 늘어날 뿐더러 집중해야 할 부분에 집중하지 못하게 됩니다. 이 때문에 기능을 분담하여 나누는 델리게이트 패턴이 필요합니다.</p>
<p><br></p>
<p>사실 델리게이트 패턴은 iOS에서 가장 활발히 사용하고 있지만, 꼭 iOS 개발에 국한된 패턴은 아닙니다. 대부분 GUI 기반 프로그래밍에서 일반적으로 널리 사용되는 패턴이죠. GUI 기반 프로그래밍에서 델리게이트 패턴이 사용되는 가장 대표적인 예는 이벤트 리스너(Event Listener)입니다. 앞에서 아마도 버튼을 @IBAction 메소드로 연결하여 버튼 클릭 시 해당 메소드가 실행되도록 구성해보았을 겁니다.</p>
<p><br></p>
<p>그런데 구체적으로 어떤 과정을 거쳐 사용자가 아이폰 기기에서, 혹은 컴퓨터에서 마우스 클릭하는 동작이 이 애플리케이션에 전달되는지 생각해 본 적 있나요? 일반적인 데스크톱 프로그램에서 마우스 클릭이 특정 프로그램의 이벤트 처리 함수 onClick()으로 연결되어 원하는 내용이 실행되는 과정을 정리해보면 다음과 같습니다.</p>
<p><br></p>
<ol>
<li>마우스 버튼을 클릭합니다.</li>
<li>마우스에서는 연결된 시리얼 케이블이나 블루투스 통신을 통해 0x000867(단순히 예시입니다. 실제로 이 값을 전송하지는 않습니다) 신호를 전송합니다.</li>
<li>마우스로부터 전송된 신호는 RS232 통신 프로토콜을 이용하여 메인보드를 거쳐 운영체제의 메시지 센터로 전달됩니다.</li>
<li>신호를 수신한 운영체제에서는 마우스 포인터의 화면상 좌표를 확인합니다.</li>
<li>운영체제에서는 해당 좌표에서 활성화된 애플리케이션을 확인합니다.</li>
<li>델리게이트를 이용하여 클릭 신호가 애플리케이션의 이벤트 처리 함수 onClick()에 대응하였음을 애플리케이션에 알립니다.</li>
<li>애플리케이션이 onClick() 함수를 실행합니다.</li>
</ol>
<p><br></p>
<p>우리는 1~7 까지를 직접 처리하지 않습니다. 그럼에도 사용자의 클릭 이벤트가 우리가 만든 앱에서 정상으로 전달되어 우리가 의도하는 메소드를 실행할 수 있는 것은, 클릭 이벤트를 인식하고 프로그램에 전달해주는 위임 객체가 있기 때문입니다. 이런 과정을 실제로 우리가 구현하고자 한다면 필요한 코딩양은 어마어마합니다. 하지만 실제로 많은 프로그래밍 과정에서 모든 이벤트에 대한 처리는 델리게이트 패턴에 의해 운영체제의 메시지 처리 객체로 위임되고, 운영체제가 관리하는 이 메시지 처리 객체가 이벤트를 감지하게 되면 델리게이트를 이용하여 애플리케이션에 해당 메소드를 알려줌으로써 우리가 원하는 코드가 실행됩니다. 그 중간 과정은 델리게이트 패턴 덕분에 우리가 직접 구현할 필요가 없는 것이죠.</p>
<p><br></p>
<p>iOS에서 사용되는 델리게이트 패턴도 이와 같은 개념입니다. 기능을 처리할 객체를 델리게이트로 설정하고, 특정 이벤트가 발생할 때 이를 델리게이트에 의해 위임된 본래의 객체로 전달해주는 역할을 합니다. 가령 웹 뷰(Web View)는 외부 브라우저 없이 웹 페이지를 앱 내에서 표시해주는 역할을 하는데, 이 과정에서 잡아내야 할 몇 가지 중요한 시점이 있습니다. 웹 페이지가 로딩되기 시작할 때라든가, 로딩이 완료되었을 때 또는 로딩이 실패하였을 때, 혹은 사용자가 다른 페이지로 이동하고자 할 때 등이 그에 해당하죠.</p>
<p><br></p>
<p>이러한 이벤트를 캐치할 수 있도록 직접 구현하려면, 상당히 복잡한 과정을 거쳐야 합니다. 여러 줄에 걸친 복잡한 과정을 통해 구현한 다음에도 심지어는 이벤트를 정확히 캐치하지 못할 수도 있죠. 하지만 웹 뷰 자체에서 이러한 시점을 잡아낼 수 있는 기능이 이미 구현되어 있으므로 우리는 웹 뷰가 특정 시점을 알려줄 뷰 컨트롤러를 델리게이트로 위임하고 웹 뷰가 이벤트 발생 시 호출해주는 함수를 구현해주기만 하면 됩니다. </p>
<p><br></p>
<p>다만 iOS에서의 델리게이트 패턴은 위임 객체가 호출할 메소드를 우리가 직접 정의하는 방식은 아닙니다. 웹 뷰의 경우 웹 페이지를 처음 읽어 들이기 시작할 때 webViewDidStartLoad(_:) 메소드를 호출하고, 웹 페이지를 모두 읽어 들였을 때 webViewDidFinishLoad(_:) 메소드를 호출하도록 프로토콜을 통해 이미 약속되어 있죠. 따라서 우리는 웹 뷰와 관련된 프로토콜에 정의된 형식을 따라 이 메소드를 구현하면 됩니다. 위 내용을 한 마디로 정리하면 다음과 같습니다.</p>
<p><br></p>
<h5 id="“웹-뷰-너에게-모든-것을-일임할게-뷰-컨트롤러인-나에게는-특정-이벤트가-발생했을-때-알려주기만-하면-돼-”"><a href="#“웹-뷰-너에게-모든-것을-일임할게-뷰-컨트롤러인-나에게는-특정-이벤트가-발생했을-때-알려주기만-하면-돼-”" class="headerlink" title="“웹 뷰 너에게 모든 것을 일임할게. 뷰 컨트롤러인 나에게는 특정 이벤트가 발생했을 때 알려주기만 하면 돼!”"></a>“웹 뷰 너에게 모든 것을 일임할게. 뷰 컨트롤러인 나에게는 특정 이벤트가 발생했을 때 알려주기만 하면 돼!”</h5><p><br></p>
<p>특정 이벤트가 발생했을 때 알려주는 방법이 바로 미리 정의된 델리게이트 메소드를 사용하는 것입니다. 이를 위해 iOS에서 델리게이트 패턴을 사용하는 모든 객체는 델리게이트 메소드를 정의한 프로토콜을 가집니다. 이를 델리게이트 프로토콜이라고 하는데, 보통 객체의 이름 되에 Delegate를 붙여서 정의합니다. 우리가 델리게이트 메소드를 이용하려면 델리게이트 프로토콜을 구현하는 과정이 반드시 필요합니다. 더 자세하게 이해하고 익숙하게 사용할 수 있도록 구체적인 예를 통해 델리게이트 패턴을 익혀보겠습니다.</p>
<p><br></p>
<h4 id="텍스트-필드"><a href="#텍스트-필드" class="headerlink" title="텍스트 필드"></a>텍스트 필드</h4><p>텍스트 필드는 델리게이트 패턴을 사용하는 대표적인 객체 중의 하나입니다. 기본적인 기능은 델리게이트 패턴 없이도 사용할 수 있지만, 입력값을 제어하는 등의 고급 기능을 구현하고 싶을 때는 델리게이트 패턴을 적용해야 합니다. 트정 문자열의 입력 배제, 입력 가능한 문자열 길이 제한 등이 델리게이트 패턴을 통해 처리할 수 있는 대표적인 사례죠. 텍스트 필드에 델리게이트 패턴을 적용하려면 다음과 같은 두 가지 작업이 필요합니다.</p>
<p><br></p>
<ol>
<li>텍스트 필드에 대한 델리게이트 프로토콜을 구현한다.</li>
<li>텍스트 필드의 델리게이트 속성을 뷰 컨트롤러에 연결한다.</li>
</ol>
<p><br></p>
<p>첫 번째 작업은 프로토콜 구현에 관련된 것입니다. 델리게이트 패턴을 구현하려면 모든 객체는 그에 맞는 델리게이트 프로토콜을 구현해야 하는데, 이때 프로토콜의 이름은 항상 해당 객체의 클래스명 + Delegate로 이루어집니다. 텍스트 필드의 클래스명이 UITextField이므로 델리게이트 프로토콜은은 UITextFieldDelegate가 되는 식이죠.</p>
<p><br></p>
<p>델리게이트 프로토콜을 구현한다는 것은 클래스 이름 정의 뒤에 프로토콜 명을 덧붙이는 것만을 의미하지는 않습니다. 프로토콜에 정의된 메소드를 실질적으로 작성하는 것까지를 포함합니다. @optional 키워드가 붙은 메소드는 필요한 것만 선택적으로 구현해도 되지만, 이외의 메소드는 반드시 구현해 주어야 합니다.</p>
<p><br></p>
<p>델리게이트 프로토콜을 구현하고 나면 이어지는 작업은 해당 객체의 델리게이트 속성을 뷰 컨트롤러와 연결하는 것입니다. 이때 델리게이트 속성이란, 델리게이트 메소드가 구현되어 있는 객체를 의미합니다. 특정 이벤트가 발생했을 경우 텍스트 필드는 이를 알려주기 위해 델리게이트 메소드가 구현되어 있는 객체를 찾는데, 이를 위한 참조 포인터가 저장되는 곳이 delegate 속성입니다. 텍스트 필드의 delegate 속성에 저장된 인스턴스가 델리게이트 메소드를 구현한 것으로 인식하고, 필요한 메소드를 호출하는 거죠.</p>
<p><br></p>
<p>이후로는 텍스트 필드를 원래대로 사용하기만 하면 됩니다. 텍스트 필드에서 미리 지정된 시점이 되면 delegate 속성에 정의된 인스턴스를 찾아 델리게이트 메소드를 호출할 것이고, 델리게이트 메소드에 미리 정의해 둔 내용이 알아서 실행될 테니까요. 앞에서도 텍스트 필드에 대해 다루어 본 적이 있지만, 기왕 이야기가 나왔으니 이 컨트롤에 대해 조금 더 자세히 알아봅시다.</p>
<p><br><hr><br></p>
<h1 id="프로젝트-생성-및-실습"><a href="#프로젝트-생성-및-실습" class="headerlink" title="프로젝트 생성 및 실습"></a>프로젝트 생성 및 실습</h1><p>먼저 텍스트 필드의 속성을 설정해보겠습니다. 스위프트 코드로 제어해 봅시다.</p>
<p><br></p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> UIKit</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ViewController</span>: <span class="title">UIViewController</span> </span>&#123;</span><br><span class="line">    <span class="meta">@IBOutlet</span> <span class="keyword">var</span> tf: <span class="type">UITextField!</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">func</span> <span class="title">viewDidLoad</span><span class="params">()</span></span> &#123;</span><br><span class="line">        <span class="keyword">super</span>.viewDidLoad()</span><br><span class="line">        <span class="comment">// 텍스트 필드 속성 설정</span></span><br><span class="line">        <span class="keyword">self</span>.tf.placeholder = <span class="string">"값을 입력하세요"</span> <span class="comment">// 안내 메시지</span></span><br><span class="line">        <span class="keyword">self</span>.tf.keyboardType = <span class="type">UIKeyboardType</span>.alphabet <span class="comment">// 키보드 타입 영문자 패드로</span></span><br><span class="line">        <span class="keyword">self</span>.tf.keyboardAppearance = <span class="type">UIKeyboardAppearance</span>.dark <span class="comment">// 키보드 스타일 어둡게</span></span><br><span class="line">        <span class="keyword">self</span>.tf.returnKeyType = <span class="type">UIReturnKeyType</span>.<span class="built_in">join</span> <span class="comment">// 리턴키 타입은 "Join"</span></span><br><span class="line">        <span class="keyword">self</span>.tf.enablesReturnKeyAutomatically = <span class="literal">true</span> <span class="comment">// 리턴키 자동 활성화 "On"</span></span><br><span class="line">        </span><br><span class="line">        <span class="comment">/*</span></span><br><span class="line"><span class="comment">         스타일 설정</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        <span class="comment">// 테두리 스타일 - 직선</span></span><br><span class="line">        <span class="keyword">self</span>.tf.borderStyle = <span class="type">UITextField</span>.<span class="type">BorderStyle</span>.line</span><br><span class="line">        <span class="comment">// 배경 색상</span></span><br><span class="line">        <span class="keyword">self</span>.tf.backgroundColor = <span class="type">UIColor</span>(white: <span class="number">0.87</span>, alpha: <span class="number">1.0</span>)</span><br><span class="line">        <span class="comment">// 수직 방향으로 텍스트가 가운데 정렬되도록</span></span><br><span class="line">        <span class="keyword">self</span>.tf.contentVerticalAlignment = .center</span><br><span class="line">        <span class="comment">// 수평 방향으로 텍스트가 가운데 정렬되도록</span></span><br><span class="line">        <span class="keyword">self</span>.tf.contentHorizontalAlignment = .center</span><br><span class="line">        <span class="comment">// 테두리 색상을 회색으로</span></span><br><span class="line">        <span class="keyword">self</span>.tf.layer.borderColor = <span class="type">UIColor</span>.darkGray.cgColor</span><br><span class="line">        <span class="comment">// 테두리 두께 설정 (단위: pt)</span></span><br><span class="line">        <span class="keyword">self</span>.tf.layer.borderWidth = <span class="number">2.0</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><br></p>
<p><img src="/image/ios14.png" alt="ios14"></p>
<p><br></p>
<p>텍스트 필드에 대해 학습한 내용을 바탕으로 드디어 델리게이트 패턴을 적용해 보겠습니다. 델리게이트 패턴을 적용할 때 갖장 먼저 할 일은 델리게이트 프로토콜에 대한 구현을 선언하는 것입니다. ViewController 클래스에 UITextFieldDelegate 프로토콜 구현을 선언합 후, viewDidLoad() 메소드 맨 아래에 텍스트 필드의 delegate 속성에 self를 대입하는 구문을 추가합니다.</p>
<p><br></p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> UIKit</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ViewController</span>: <span class="title">UIViewController</span>, <span class="title">UITextFieldDelegate</span></span>&#123;</span><br><span class="line">    ...(중략)...</span><br><span class="line">    <span class="comment">// 델리게이트 지정</span></span><br><span class="line">    <span class="keyword">self</span>.tf.delegate = <span class="keyword">self</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><br></p>
<p>텍스트 필드의 delegate는 텍스트 필드에 특정 이벤트가 발생했을 때 알려줄 대상 객체를 가리키는 속성입니다. 이 속성에 대입된 self는 현재의 뷰 컨트롤러 인스턴스를 의미하죠. 다시 말해, 텍스트 필드에서 미리 정해진 특정 이벤트가 발생하면 현재의 뷰 컨트롤러에게 알려달라는 요청입니다. 이를 가리켜 “뷰 컨트롤러가 텍스트 필드의 델리게이트 객체로 지정되었다”라고 표현합니다. 텍스트 필드가 자신의 델리게이트 객체에게 특정 이벤트가 발생했음을 알려줄 때에는 델리게이트 메소드를 이용합니다. 이벤트마다 호출하기로 약속된 메소드가 정해져 있는데, 이를 현재 지정된 델리게이트 객체에서 찾아 호출하는 겁니다. 이를 위해서는 먼저 델리게이트 객체에 지정된 메소드가 구현되어 있는지 확인합니다. 만약 구현되어 있다면 필요한 인자값을 담아 메소드를 호출해 주고, 구현되어 있지 않다면 ‘안 알려줘도 되나보다’라고 판단하고 그대로 종료하는 방식으로 이루어지는 것이 델리게이트 패턴입니다.</p>
<p><br></p>
<p>ViewController 클래스에 다음과 같이 textFieldShouldBeginEditing(_:) 메소드를 추가합니다. 자동 완성 지원이 되므로, 이를 이용하면 편리합니다. 이후에도 계속해서 델리게이트 메소드를 차례로 추가합니다.</p>
<p><br></p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 텍스트 필드의 편집이 시작된 후 호출</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">textFieldDidBeginEditing</span><span class="params">(<span class="number">_</span> textField: UITextField)</span></span> &#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"텍스트 필드의 편집이 시작되었습니다."</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 텍스트 필드의 내용이 삭제될 때 호출</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">textFieldShouldClear</span><span class="params">(<span class="number">_</span> textField: UITextField)</span></span> -&gt; <span class="type">Bool</span> &#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"텍스트 필드의 내용이 삭제됩니다."</span>)</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span> <span class="comment">// false를 리턴하면 삭제되지 않는다.</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 텍스트 필드의 내용이 변경될 때 호출</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">textField</span><span class="params">(<span class="number">_</span> textField: UITextField, shouldChangeCharactersIn range: NSRange, replacementString string: String)</span></span> -&gt; <span class="type">Bool</span> &#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"텍스트 필드의 내용이 \(string)으로 변경됩니다."</span>)</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span> <span class="comment">// false를 리턴하면 내용이 변경되지 않는다.</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 텍스트 필드의 리턴키가 눌러졌을 때 호출</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">textFieldShouldReturn</span><span class="params">(<span class="number">_</span> textField: UITextField)</span></span> -&gt; <span class="type">Bool</span> &#123;</span><br><span class="line">    textField.resignFirstResponder()</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"텍스트 필드의 리턴키가 눌러졌습니다."</span>)</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 텍스트 필드 편집이 종료될 때 호출</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">textFieldShouldEndEditing</span><span class="params">(<span class="number">_</span> textField: UITextField)</span></span> -&gt; <span class="type">Bool</span> &#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"텍스트 필드의 편집이 종료됩니다."</span>)</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>  <span class="comment">// false를 리턴하면 편집이 종료되지 않는다.</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 텍스트 필드의 편집이 종료되었을 때 호출</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">textFieldDidEndEditing</span><span class="params">(<span class="number">_</span> textField: UITextField)</span></span> &#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"텍스트 필드의 편집이 종료되었습니다."</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><br></p>
<p>각각의 델리게이트 메소드는 실행 시점에 맞추어 호출됩니다. 앱을 실행한 다음, 텍스트 필드에 값을 입력해보면 어떤 메소드가 어떻게 호출되는지 알 수 있습니다.</p>
<p><br></p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">텍스트 필드의 편집이 시작되었습니다.</span><br><span class="line">텍스트 필드의 내용이 e으로 변경됩니다.</span><br><span class="line">텍스트 필드의 내용이 으로 변경됩니다.</span><br><span class="line">텍스트 필드의 내용이 e으로 변경됩니다.</span><br><span class="line">텍스트 필드의 내용이 d으로 변경됩니다.</span><br><span class="line">텍스트 필드의 내용이 i으로 변경됩니다.</span><br><span class="line">텍스트 필드의 내용이 t으로 변경됩니다.</span><br><span class="line">텍스트 필드의 편집이 종료됩니다.</span><br><span class="line">텍스트 필드의 편집이 종료되었습니다.</span><br><span class="line">텍스트 필드의 리턴키가 눌러졌습니다.</span><br></pre></td></tr></table></figure>
<p><br></p>
<p>한 가지 기능을 덧붙여 봅시다. 텍스트 필드에 숫자를 입력할 수 있도록 차단하는 코드를 추가해 봅시다. 그리고 텍스트 필드에는 최대로 입력 가능한 문자열 길이가 있는 경우가 많습니다. 이것 역시 이 메소드를 이용하면 쉽게 구현할 수 있습니다.</p>
<p><br></p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 텍스트 필드의 내용이 변경될 때 호출</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">textField</span><span class="params">(<span class="number">_</span> textField: UITextField, shouldChangeCharactersIn range: NSRange, replacementString string: String)</span></span> -&gt; <span class="type">Bool</span> &#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"텍스트 필드의 내용이 \(string)으로 변경됩니다."</span>)</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span> <span class="type">Int</span>(string) == <span class="literal">nil</span>&#123;  <span class="comment">// 입력된 값이 숫자가 아니라면 true를 리턴</span></span><br><span class="line">        <span class="comment">// 현재 텍스트 필드에 입력된 길이와 더해질 문자열 길이의 합이 10을 넘는다면 반영하지 않음</span></span><br><span class="line">        <span class="keyword">if</span> (textField.text?.<span class="built_in">count</span>)! + string.<span class="built_in">count</span> &gt; <span class="number">10</span>&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;  <span class="comment">// 입력된 값이 숫자라면 false를 리턴</span></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><br><br></p>
<p>다음은 이미지 피커 컨트롤러(Image Picker Controller)를 통해 델리게이트 패턴을 활용해보도록 하겠습니다. 이미지 피커 컨트롤러 자체는 단순히 이미지를 선택해서 가져오는 기능입니다. 하지만 이미지를 불러올 소스를 어떤 것으로 설정하느냐에 따라 앨범이나 카메라 기능을 사용할 수 있으므로, 카메라를 이용하여 즉석에서 촬영한 사진을 사용하거나 앨범에 저장된 이미지를 불러올 때 대부분 이 컨트롤러를 사용하여 기능을 구현합니다.</p>

        </div>
    

</div>
            
                
<div class="post">

    <div class="post-header index">
        <h1 class="title">
            <a href="/2020/03/15/ios-%EC%95%B1-%EA%B0%9C%EB%B0%9C-%EB%B2%88%EC%99%B8%ED%8E%B8-3/">
                [iOS] 앱 개발 번외편 (3)
            </a>
        </h1>
        <div class="post-info">
            
                <span class="date">2020-03-15</span>
            
            
            
                <span class="category">
                    <a href="/categories/ios/">iOS</a>
                </span>
            
        </div>
    </div>

    
        <div class="content">
            <h1 id="Xib와-테이블뷰-셀-커스터마이즈"><a href="#Xib와-테이블뷰-셀-커스터마이즈" class="headerlink" title="Xib와 테이블뷰 셀 커스터마이즈"></a>Xib와 테이블뷰 셀 커스터마이즈</h1><p><br></p>
<h3 id="1-인터페이스-구성하기"><a href="#1-인터페이스-구성하기" class="headerlink" title="1. 인터페이스 구성하기"></a>1. 인터페이스 구성하기</h3><p>자, 먼저 아래와 같이 전체적인 앱 플로우를 구성하기 위하여 본 포스팅에서 사용될 테이블뷰와 탭바 컨트롤러를 공식문서에서 어떻게 설명하였는지 먼저 살펴보도록 하자. 아래는 직관적으로 이해가 잘 되는 개요 부분을 발췌하였다.</p>
<p><br></p>
<p><br></p>
<h4 id="Class-UITableView"><a href="#Class-UITableView" class="headerlink" title="Class UITableView"></a>Class UITableView</h4><p>A view that presents data using rows arranged in a single column</p>
<p><br></p>
<p>Table views on iOS display a single column of vertically scrolling content, divided into rows. Each row in the table contains one piece of your app’s content. For example, the Contacts app displays the name of each contact in a separate row, and the main page of the Settings app displays the available groups of settings. You can configure a table to display a single long list of rows, or you can group related rows into sections to make navigating the content easier.</p>
<p><br></p>
<p>Tables are commonly used by apps whose data is highly structured or organized hierarchically. Apps that contain hierarchical data often use tables in conjunction with a navigation view controller, which facilitates navigation between different levels of the hierarchy. For example, the Settings app uses tables and a navigation controller to organize the system settings.</p>
<p><br></p>
<p>UITableView manages the basic apperance of the table, but your app provides the cells(UITableViewCell objects) that display the actual content. The standard cell configurations display a simple combination of text and images, but you can define custom cells that display any content you want. You can also supply header and footer views to provide additional information for groups of cells.</p>
<p><br><br></p>
<h4 id="UITabBarController"><a href="#UITabBarController" class="headerlink" title="UITabBarController"></a>UITabBarController</h4><p>A container view controller that manages a radio-style selection interface, where the selection determines which child view controller to display.</p>
<p><br></p>
<p>The tab bar interface displays tabs at the bottom of the window for selecting between the different modes and for displaying the views for that mode. This class is generally used as-is, but may also be subclassed.</p>
<p><br></p>
<p>Each tab of a tab bar controller interface is associated with a custom view controller. When the user selects a specfic tab, the tab bar controller displays the root view of the corresponding view controller, replacing any previous views. (User taps always display the root view of the tab, regardless of which tab was previously selected. This is true even if the tab was already selected.) Because selecting a tab replace the contents of the interface, the type of interface managed in each tab need not be similar in any way. In fact, tab bar interfaces are commonly used either to present different types of information or to present the same information using a completely different style of interface.</p>
<p><br></p>
<p>You should never access the tab bar view of a tab bar controller directly. To configure the tabs of a tab bar controller, you assign the view controllers that provide the root view for each tab to the viewControllers property. The order in which you specify the view controllers determines the oreder in which they appear in the tab bar. When setting this property, you should assign a value to the selectedViewController property to indicate which view controller is selected initially. (You can also select view controllers by array index using the selectedIndex property.) When you embed the tab bar controller’s view (obtained using the inherited vieww property) in your app window, the tab bar controller automatically selects that view controller and displays its contents, resizing them as needed to fit the tab bar interface.</p>
<p><br></p>
<p>Tab bar items are configured through their corresponding view controller. To associate a tab bar item with a view controller, create a new instance of the UITabBarItem class, configure it appropriately for the view controller, and assign it to the view controller’s tabBarItem property. If you don’t provide a custom tab bar item for your view controller, the view controller creates a default item containing no image and the text from the view controller’s title property.</p>
<p><br></p>
<p>As the user interacts with a tab bar interface, the tab bar controller objects sends notifications about the interactions to its delegate. The delegate can be any object you specify but must conform to the UITabBarControllerDelegate protocol. You can use the delegate to prevent specific tab bar items from being selected and to perform additional tasks when tabs are selected. You can also use the delegate to monitor changes to the tab bar that are made by the More navigation controller.</p>
<p><br><hr><br></p>
<h3 id="2-모델-코드작성"><a href="#2-모델-코드작성" class="headerlink" title="2. 모델 코드작성"></a>2. 모델 코드작성</h3><p>우선 도서 정보를 담을 틀인 BookVO 클래스를 작성해보자.</p>
<p><br></p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> Foundation</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">BookVO</span></span>&#123;</span><br><span class="line">    <span class="keyword">var</span> bookImage: <span class="type">String?</span>  <span class="comment">// 도서 커버 이미지 주소</span></span><br><span class="line">    <span class="keyword">var</span> title: <span class="type">String?</span>  <span class="comment">// 도서 이름</span></span><br><span class="line">    <span class="keyword">var</span> price: <span class="type">String?</span>  <span class="comment">// 도서 가격</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><br></p>
<p>위 클래스는 도서 정보를 담기 위한 객체이다. BookVO 클래스에는 몇 개의 프로퍼티가 정의되어 있는데, 도서의 커서 이미지 주소를 저장하기 위한 bookImage, 도서 이름을 저장하기 위한 title, 도서 가격을 위한 price가 있다. 우리는 이들 변수 각각에 값을 저장하지만, 전달할 때는 BookVO 클래스의 인스턴스 자체를 전달하게 된다. 값을 주고 받을 때 개별 변수가 아니라 클래스 인스턴스 자체가 전달되므로 각 변수에 저장된 값들의 관련성이 유지될 수 있음은 물론, 여러 개의 변수가 필요하지도 않다. 이렇게 만들어진 클래스 인스턴스는 테이블 뷰의 셀 하나하나를 구성하는 데이터 소스로 사용된다. 각각의 프로퍼티는 비어있을 수도 있으므로 옵셔널 타입으로 선언한다.</p>
<p><br></p>
<p>참고로 VO의 의미인 Value Object 패턴을 함께 알아보자. 이는 데이터 저장을 전달하는 클래스를 별도로 분리하는 설계 방식을 말하는데, 줄여서 VO라고 한 것이다. 객체 지향 설계에서는 매우 자주 활용되는 방식이다. VO 패턴을 쉽게 생각하자면 일종의 식판이라고 할 수 있다. 밥그릇, 국그릇 등을 올려놓는 식판 말이다. 식판 위에 올라가는 밥그릇, 국그릇, 반찬 그릇 등에는 밥이나 국, 그리고 반찬이 담기듯이 VO 패턴의 클래스에 올려지는 각종 변수들은 해당하는 데이터를 담는 역할을 한다. 밥그릇에 밥을 담고 국그릇에 국을 담고 반찬 그릇에 반찬을 담아 식판 위에 올려놓은 다음에 식탁으로 갈 때에는 각각의 그릇들을 들고 가는 것이 아니라 식판 하나만 들고 가면 된다. 식판을 들고 가면 자연스레 밥과 국, 반찬은 함께 이동하게 된다. VO 패턴도 마찬가지이다. 클래스 인스턴스 내부의 속성에 각각의 데이터들을 담은 다음, 전달할 때에는 클래스 인스턴스 전체를 전달하기 때문에 자연스레 클래스 내부의 변수에 저장된 값도 함께 전달된다.</p>
<p><br><hr><br></p>
<h3 id="3-웹-데이터-요청-코드-작성"><a href="#3-웹-데이터-요청-코드-작성" class="headerlink" title="3. 웹 데이터 요청 코드 작성"></a>3. 웹 데이터 요청 코드 작성</h3><p>본 포스팅에서는 오픈 API 중 하나인 api.itbook.store를 사용하여 API를 호출하고 응답 데이터를 받아 화면에 표시하도록 하겠다.  </p>
<p>그러면 본격적으로 테이블뷰의 셀은 어떻게 커스터마이즈 할 수 있을까? 쉽게 말해 기본적으로 제공되는 테이블뷰의 셀 스타일에서 벗어나 원하는 모양의 커스텀 셀을 직접 만들 수 없을까? 이제까지는 스토리보드에 셀 프로토타입이 만들어져 있었고, 그 프로토타입을 원하는 모양으로 만든 다음에 Identifier를 부여해서 코드에서 불러와 사용을 했었다. 그러나 이처럼 하나의 테이블뷰에서 프로토타입을 구현해 두면 다른 테이블뷰에서 사용하기 불편하다. 그래서 두 테이블 뷰에서 동시에 동일한 테이블 뷰의 셀을 사용하기 위해 셀 클래스를 따로 만들고, 인터페이스 파일을 따로 구현해 볼 것이다. 여기서는 Xib를 사용해 볼 것이다. Xib는Xml Interface Builder의 약자로 스토리보드가 생기기 전에 많이 사용하였으며, Xib 이전에는 Nib(NeXT Interface Builder)가 사용되었다. Nib에서 Xib로 변경된 이유에는 소스코드 매니지먼트가 있다. Nib은 바이너리 아카이브 파일로 이루어진 통짜 파일이라 코드의 변경 및 추적이 어렵다. 이를 Xml 기반인 Xib를 사용해서 코드의 변경 이력을 확인하기 수월하도록 개선하였다. 그러나 Xib는 각각의 뷰마다 인터페이스 파일을 생성해주어야 했기 때문에 스토리보드처럼 뷰 사이의 흐름을 파악하기는 어렵고 인터페이스 파일이 많아지는 단점이 있었다. 그래서 스토리보드가 등장했으나 지금도 인터페이스 빌더에서 Xib를 사용할 수 있다는 점이 중요하다. 이를 활용하여 자주 사용할 뷰를 만들어두고 계속해서 재사용한다거나 단독으로 뷰 컨트롤러 인터페이스를 구현할 수 있다. Xib 파일을 빌드하면 Nib 파일로 변환된다.     </p>
<p><br></p>
<p>먼저 UITableView 클래스를 상속받는 BookTableViewCell 클래스를 만들어보자. 이후 커스텀 셀을 위한 델리게이트 프로토콜을 만들어볼 것이다. 즉, 셀이 스스로 처리하지 못하는 일을 누군가에게 맡길 것이다.  </p>

        </div>
    

</div>
            
                
<div class="post">

    <div class="post-header index">
        <h1 class="title">
            <a href="/2020/03/14/sem-%EB%B2%A0%EC%9D%B4%EC%A7%80%EC%95%88-%EA%B5%AC%EC%A1%B0%EB%B0%A9%EC%A0%95%EC%8B%9D/">
                [SEM] 베이지안 구조방정식
            </a>
        </h1>
        <div class="post-info">
            
                <span class="date">2020-03-14</span>
            
            
            
                <span class="category">
                    <a href="/categories/bayesian-structural-equation-model/">Bayesian Structural Equation Model</a>
                </span>
            
        </div>
    </div>

    
        <div class="content">
            <h1 id="베이지안-구조방정식"><a href="#베이지안-구조방정식" class="headerlink" title="베이지안 구조방정식"></a>베이지안 구조방정식</h1><p><br></p>
<h5 id="본-포스팅은-“Structural-Equation-Modeling-A-Bayesian-Apporach-Sik-Yum-Lee”-책과-“blavaan-Bayesian-Structural-Equation-Models-via-Parameter-Expansion”-내용을-바탕으로-합니다"><a href="#본-포스팅은-“Structural-Equation-Modeling-A-Bayesian-Apporach-Sik-Yum-Lee”-책과-“blavaan-Bayesian-Structural-Equation-Models-via-Parameter-Expansion”-내용을-바탕으로-합니다" class="headerlink" title="본 포스팅은 “Structural Equation Modeling: A Bayesian Apporach, Sik Yum Lee” 책과 “blavaan: Bayesian Structural Equation Models via Parameter Expansion” 내용을 바탕으로 합니다."></a>본 포스팅은 “Structural Equation Modeling: A Bayesian Apporach, Sik Yum Lee” 책과 “blavaan: Bayesian Structural Equation Models via Parameter Expansion” 내용을 바탕으로 합니다.</h5><p><br><br></p>
<h4 id="blavaan"><a href="#blavaan" class="headerlink" title="blavaan"></a>blavaan</h4><p>The intent of blavaan is to implement Bayesian structural equation models (SEMs) that harness open source MCMC samplers while simplifying model specification, summary, and extension. Bayesian SEM has received increasing attention in recent years, with MCMC samplers being developed for specific priors, specific models being estimated in JAGS and BUGS, factor analysis samplers being included in R packages bfa and MCMCpack, and multiple samplers being implemented in Mplus. These methods have notable advantages over analogous frequentist methods, including the facts that estimation of complex models is typically easier and that estimates of parameter uncertainty do not rely on asymptotic arguments. Further, in addition to allowing for the inclusion of existing knowledge into model estimates, prior distributions can be used to inform underidentified models, to average across multiple models in a single run, and to avoid Heywood cases.</p>
<p><br></p>

        </div>
    

</div>
            
        </section>
    </div>
</div>



    <div class="row">
        <div class="col-sm-12">
            <div class="wrap-pagination">
                <a class="" href="/">
                    <i class="fa fa-chevron-left" aria-hidden="true"></i>
                </a>
                <a class="" href="/page/3/">
                    <i class="fa fa-chevron-right" aria-hidden="true"></i>
                </a>
            </div>
        </div>
    </div>




</div>

<!-- Footer -->
<div class="push"></div>

<footer class="footer-content">
    <div class="container">
        <div class="row">
            <div class="col-xs-12 col-sm-12 col-md-6 col-lg-6 footer-about">
                <h2>About</h2>
                <p>
                    This theme was developed by <a href="https://github.com/klugjo" target="_blank" rel="noopener">Jonathan Klughertz</a>. The source code is available on Github. Create Websites. Make Magic.
                </p>
            </div>
            
    <div class="col-xs-6 col-sm-6 col-md-3 col-lg-3 recent-posts">
        <h2>Recent Posts</h2>
        <ul>
            
            <li>
                <a class="footer-post" href="/2020/05/19/hackerrank-class-vs-instance/">[HackerRank] Class vs. In</a>
            </li>
            
            <li>
                <a class="footer-post" href="/2020/05/17/hackerrank-intro-to-conditional-statements/">[HackerRank] Intro to Con</a>
            </li>
            
            <li>
                <a class="footer-post" href="/2020/05/17/hackerrank-operator/">[HackerRank] Operators</a>
            </li>
            
            <li>
                <a class="footer-post" href="/2020/05/13/hackerrank-data-types/">[HackerRank] Data Types</a>
            </li>
            
        </ul>
    </div>



            
<div class="col-xs-6 col-sm-6 col-md-3 col-lg-3 footer-categories">
    <h2>Categories</h2>
    <ul>
        
        <li>
            <a class="footer-post" href="/categories/algorithm/selection-sort/">selection sort</a>
        </li>
        
        <li>
            <a class="footer-post" href="/categories/algorithm/graph/">graph</a>
        </li>
        
        <li>
            <a class="footer-post" href="/categories/vuejs/">vuejs</a>
        </li>
        
        <li>
            <a class="footer-post" href="/categories/computational-modeling/">Computational Modeling</a>
        </li>
        
    </ul>
</div>

        </div>
        <div class="row">
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
                <ul class="list-inline footer-social-icons">
                    
                    <li class="list-inline-item">
                        <a href="https://github.com/klugjo/hexo-theme-alpha-dust" target="_blank" rel="noopener">
                            <span class="footer-icon-container">
                                <i class="fa fa-github"></i>
                            </span>
                        </a>
                    </li>
                    
                    
                    <li class="list-inline-item">
                        <a href="https://twitter.com/?lang=en" target="_blank" rel="noopener">
                            <span class="footer-icon-container">
                                <i class="fa fa-twitter"></i>
                            </span>
                        </a>
                    </li>
                    
                    
                    <li class="list-inline-item">
                        <a href="https://www.facebook.com/" target="_blank" rel="noopener">
                            <span class="footer-icon-container">
                                <i class="fa fa-facebook"></i>
                            </span>
                        </a>
                    </li>
                    
                    
                    <li class="list-inline-item">
                        <a href="https://www.instagram.com/" target="_blank" rel="noopener">
                            <span class="footer-icon-container">
                                <i class="fa fa-instagram"></i>
                            </span>
                        </a>
                    </li>
                    
                    
                    <li class="list-inline-item">
                        <a href="https://dribbble.com/" target="_blank" rel="noopener">
                            <span class="footer-icon-container">
                                <i class="fa fa-dribbble"></i>
                            </span>
                        </a>
                    </li>
                    
                    
                    <li class="list-inline-item">
                        <a href="https://plus.google.com/" target="_blank" rel="noopener">
                            <span class="footer-icon-container">
                                <i class="fa fa-google-plus"></i>
                            </span>
                        </a>
                    </li>
                    
                    
                    <li class="list-inline-item">
                        <a href="https://www.behance.net/" target="_blank" rel="noopener">
                            <span class="footer-icon-container">
                                <i class="fa fa-behance"></i>
                            </span>
                        </a>
                    </li>
                    
                    
                    <li class="list-inline-item">
                        <a href="https://500px.com/" target="_blank" rel="noopener">
                            <span class="footer-icon-container">
                                <i class="fa fa-500px"></i>
                            </span>
                        </a>
                    </li>
                    
                    
                    <li class="list-inline-item">
                        <a href="mailto:test@example.com" target="_blank" rel="noopener">
                            <span class="footer-icon-container">
                                <i class="fa fa-envelope-o"></i>
                            </span>
                        </a>
                    </li>
                    
                    
                    <li class="list-inline-item">
                        <a href="\#">
                            <span class="footer-icon-container">
                                <i class="fa fa-rss"></i>
                            </span>
                        </a>
                    </li>
                    
                </ul>
            </div>
        </div>
        <div class="row">
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
                <div class="footer-copyright">
                    @Untitled. All right reserved | Design & Hexo <a href="http://www.codeblocq.com/" target="_blank" rel="noopener">Jonathan Klughertz</a>
                </div>
            </div>
        </div>
    </div>
</footer>

<!-- After footer scripts -->

<!-- jQuery -->
<script src="//code.jquery.com/jquery-2.1.4.min.js"></script>

<!-- Tween Max -->
<script src="//cdnjs.cloudflare.com/ajax/libs/gsap/1.18.5/TweenMax.min.js"></script>

<!-- Gallery -->
<script src="//cdnjs.cloudflare.com/ajax/libs/featherlight/1.3.5/featherlight.min.js" type="text/javascript" charset="utf-8"></script>

<!-- Custom JavaScript -->
<script src="/js/main.js"></script>

<!-- Disqus Comments -->



<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        tex2jax: {
            inlineMath: [ ["$","$"], ["\\(","\\)"] ],
            skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code'],
            processEscapes: true
        }
    });
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax();
        for (var i = 0; i < all.length; ++i)
            all[i].SourceElement().parentNode.className += ' has-jax';
    });
</script>
<script src='https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/MathJax.js?config=TeX-MML-AM_CHTML'></script>

</body>

</html>