<!DOCTYPE html>
<html lang="en">

<!-- Head tag -->
<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!--Description-->
    
        <meta name="description" content="파이썬에서 변수를 어떻게 사용할 수 있을까?  (3)본 포스팅은 &amp;lt;윤성우의 열혈 파이썬 중급편&amp;gt;과 &amp;lt;처음 시작하는 파이썬&amp;gt;을 바탕으로 진행합니다.목차
Story 03. 깊은 복사와 얕은 복사
[두 객체의 비교와 복사]
[깊은 복사]




Stor">
    

    <!--Author-->
    
        <meta name="author" content="Sunny Cho">
    

    <!--Open Graph Title-->
    
        <meta property="og:title" content="[Python] 변수사용3"/>
    

    <!--Open Graph Description-->
    

    <!--Open Graph Site Name-->
    <meta property="og:site_name" content="QuantPsy"/>

    <!--Type page-->
    
        <meta property="og:type" content="article" />
    

    <!--Page Cover-->
    

    <meta name="twitter:card" content="summary" />
    

    <!-- Title -->
    
    <title>[Python] 변수사용3 - QuantPsy</title>

    <!-- Bootstrap Core CSS -->
    <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.2/css/bootstrap.min.css" integrity="sha384-y3tfxAZXuh4HwSYylfB+J125MxIs6mR5FOHamPBG064zB+AFeWH94NdvaCBm8qnd" crossorigin="anonymous">

    <!-- Custom Fonts -->
    <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css">

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="//oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="//oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

    <!-- Gallery -->
    <link href="//cdnjs.cloudflare.com/ajax/libs/featherlight/1.3.5/featherlight.min.css" type="text/css" rel="stylesheet" />

    <!-- Custom CSS -->
    <link rel="stylesheet" href="/css/style.css">

    <!-- Google Analytics -->
    


</head>


<body>

<div class="bg-gradient"></div>
<div class="bg-pattern"></div>

<!-- Menu -->
<!--Menu Links and Overlay-->
<div class="menu-bg">
    <div class="menu-container">
        <ul>
            
            <li class="menu-item">
                <a href="/">
                    Home
                </a>
            </li>
            
            <li class="menu-item">
                <a href="/archives">
                    Archives
                </a>
            </li>
            
            <li class="menu-item">
                <a href="/about.html">
                    About
                </a>
            </li>
            
            <li class="menu-item">
                <a href="/tags">
                    Tags
                </a>
            </li>
            
            <li class="menu-item">
                <a href="/categories">
                    Categories
                </a>
            </li>
            
            <li class="menu-item">
                <a href="/contact.html">
                    Contact
                </a>
            </li>
            
        </ul>
    </div>
</div>

<!--Hamburger Icon-->
<nav>
    <a href="#menu"></a>
</nav>

<div class="container">

    <!-- Main Content -->
    <div class="row">
    <div class="col-sm-12">

        <!--Title and Logo-->
        <header>
    <div class="logo">
        <a href="/"><i class="logo-icon fa fa-cube" aria-hidden="true"></i></a>
        
    </div>
</header>

        <section class="main">
            
<div class="post">

    <div class="post-header">
        <h1 class="title">
            <a href="/2019/11/21/Python-%EB%B3%80%EC%88%98%EC%82%AC%EC%9A%A93/">
                [Python] 변수사용3
            </a>
        </h1>
        <div class="post-info">
            
                <span class="date">2019-11-21</span>
            
            
            
        </div>
    </div>

    <div class="content">

        <!-- Gallery -->
        

        <!-- Post Content -->
        <h1 id="파이썬에서-변수를-어떻게-사용할-수-있을까-3"><a href="#파이썬에서-변수를-어떻게-사용할-수-있을까-3" class="headerlink" title="파이썬에서 변수를 어떻게 사용할 수 있을까?  (3)"></a>파이썬에서 <strong>변수</strong>를 어떻게 사용할 수 있을까?  (3)</h1><h6 id="본-포스팅은-lt-윤성우의-열혈-파이썬-중급편-gt-과-lt-처음-시작하는-파이썬-gt-을-바탕으로-진행합니다"><a href="#본-포스팅은-lt-윤성우의-열혈-파이썬-중급편-gt-과-lt-처음-시작하는-파이썬-gt-을-바탕으로-진행합니다" class="headerlink" title="본 포스팅은 &lt;윤성우의 열혈 파이썬 중급편&gt;과 &lt;처음 시작하는 파이썬&gt;을 바탕으로 진행합니다."></a>본 포스팅은 &lt;윤성우의 열혈 파이썬 중급편&gt;과 &lt;처음 시작하는 파이썬&gt;을 바탕으로 진행합니다.</h6><h2 id="목차"><a href="#목차" class="headerlink" title="목차"></a>목차</h2><ul>
<li>Story 03. 깊은 복사와 얕은 복사<ul>
<li>[두 객체의 비교와 복사]</li>
<li>[깊은 복사]</li>
</ul>
</li>
</ul>
<ul>
<li>Story 04. 리스트 컴프리헨션<ul>
<li>[리스트 생성 방법]</li>
<li>[조건 필터 추가하기]</li>
<li>[리스트 컴프리헨션에 for 한번 더 들어가는 경우]</li>
<li>[이중 for 루프에 조건 필터 추가]</li>
</ul>
</li>
</ul>
<ul>
<li>Story 05. Iterable 객체와 Iterator 객체]<ul>
<li>[iter 함수]</li>
<li>[Iterable 객체와 Iterator 객체의 구분]</li>
<li>[스페셜 메소드]</li>
<li>[Iterable 객체의 종류와 확인 방법]</li>
<li>[for 루프와 Iterable 객체]</li>
</ul>
</li>
</ul>
<p><br></br></p>
<h3 id="Story-05-Iterable-객체와-Iterator-객체"><a href="#Story-05-Iterable-객체와-Iterator-객체" class="headerlink" title="Story 05. Iterable 객체와 Iterator 객체"></a>Story 05. Iterable 객체와 Iterator 객체</h3><h4 id="iter-함수"><a href="#iter-함수" class="headerlink" title="[iter 함수]"></a>[iter 함수]</h4><p>하나 이상의 값을 저장하는 일과 저장된 값들을 하나씩 꺼내 보는 일은 단순하지만 중요한 일이다.<br>그리고 자주 필요한 일이기도 하다. 물론 우리는 다음과 같이 for 루프를 기반으로 이러한 일을 진행할 수 있다. 지금부터는 코딩도장을 바탕으로 <strong>iter</strong>, <strong>next</strong> 메서드를 구현해서 이터레이터를 직접 만들어보고 그 동작원리를 살펴보도록 하자.</p>
<p>다음은 간단하게 range(횟수)처럼 동작하는 이터레이터이다.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> 이터레이터이름:</span></span><br><span class="line">	<span class="function"><span class="keyword">def</span> <span class="title">__iter__</span><span class="params">(self)</span>:</span></span><br><span class="line">		<span class="comment"># 코드</span></span><br><span class="line">	<span class="function"><span class="keyword">def</span> <span class="title">__next__</span><span class="params">(self)</span>:</span></span><br><span class="line">		<span class="comment"># 코드</span></span><br></pre></td></tr></table></figure>


<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Counter</span>:</span></span><br><span class="line">	<span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, stop)</span>:</span></span><br><span class="line">		self.current = <span class="number">0</span>   <span class="comment"># 현재 숫자 유지</span></span><br><span class="line">		self.stop = stop   <span class="comment"># 반복을 끝낼 숫자</span></span><br><span class="line">	<span class="function"><span class="keyword">def</span> <span class="title">__iter__</span><span class="params">(self)</span>:</span></span><br><span class="line">		<span class="keyword">return</span> self        <span class="comment"># 현재 인스턴스를 반환: iterator 객체 얻는 방법</span></span><br><span class="line">	<span class="function"><span class="keyword">def</span> <span class="title">__next__</span><span class="params">(self)</span>:</span></span><br><span class="line">		<span class="keyword">if</span> self.current &lt; self.stop: </span><br><span class="line">			r = self.current   <span class="comment"># 반환할 숫자를 변수에 저장</span></span><br><span class="line">			self.current += <span class="number">1</span></span><br><span class="line">			<span class="keyword">return</span> r</span><br><span class="line">		<span class="keyword">else</span>:</span><br><span class="line">			<span class="keyword">raise</span> StopIteration</span><br><span class="line"></span><br><span class="line"><span class="comment"># 사용예시</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> Counter(<span class="number">3</span>):</span><br><span class="line">	print(i, end=<span class="string">' '</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 실행결과</span></span><br><span class="line"><span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span></span><br></pre></td></tr></table></figure>

<p>실행을 해보면 0 1 2가 나오는데, 이렇게 0부터 지정된 숫자 직전까지 반복하는 이터레이터 Counter를 정의했다. 먼저 클래스로 이터레이터를 작성하려면 <strong>init</strong> 메서드를 만든다. 여기서는 Counter(3) 처럼 반복을 끝낼 숫자를 받았으므로 self.stop에 stop을 넣어준다. 그리고 반복할 때마다 현재 숫자를 유지해야 하므로 속성 self.current에 0을 넣어준다(0부터 지정된 숫자 직전까지 반복하므로 0을 넣는다).</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, stop)</span>:</span></span><br><span class="line">	self.current = <span class="number">0</span>          <span class="comment"># 0부터 지정된 숫자 직전까지 반복</span></span><br><span class="line">	self.stop = stop          <span class="comment"># 반복을 끝낼 숫자</span></span><br></pre></td></tr></table></figure>

<p>그리고 <strong>iter</strong> 메서드를 만드는데 여기서는 self만 반환하면 끝이다. 그래서 Counter 객체를 얻는 방법은 iter 함수를 호출하는 것이다. 이 객체는 리스트, 문자열, 딕셔너리, 세트, range처럼 <strong>iter</strong>를 호출해줄 반복 가능한 객체(iterable)가 없으므로 현재 인스턴스를 반환하면 된다. 즉, 이 객체는 반복 가능한 객체이면서 이터레이터이다.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">__iter__</span><span class="params">(self)</span>:</span></span><br><span class="line">	<span class="keyword">return</span> self                <span class="comment"># 현재 인스턴스를 반환</span></span><br></pre></td></tr></table></figure>

<p>그 다음에 <strong>next</strong> 메서드를 만든다. <strong>next</strong>에서는 조건에 따라 숫자를 만들어 내거나StopIteration 예외를 발생시킨다. 현재 숫자 self.current가 반복을 끝낼 숫자 self.stop보다 작을 때는 self.current를 1 증가시키고 현재 숫자를 반환한다. 이때 1 증가한 숫자를 반환하지 않도록 숫자를 증가시키기 전에 r = self.current 처럼 반환할 숫자를 변수에 저장해 놓는다. 그 다음에 self.current가 self.stop 보다 크거나 같아질 때는 raise StopIteration으로 예외를 발생시킨다.</p>
<p>참고로 이터레이터는 언패킹이 가능하며, 이터레이터가 반복하는 횟수와 변수의 개수는 같아야 한다.</p>
<p>이처럼 값을 꺼내는 방법이 조금 더 유연해진다면 우리가 할 수 있는 일의 범위는 더 넓어질 것이다. 그래서 그 유연한 방법을 소개하고자 한다. 그럼 이와 관련하여 다음 예를 보자.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">ds = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>]</span><br><span class="line">ir = iter(ds)               <span class="comment"># iterator 객체를 얻는 방법</span></span><br><span class="line">next(ir)                    <span class="comment"># iterator 객체를 통해 값을 하나 꺼내는 방법, 첫 번째 값 반환</span></span><br><span class="line">next(ir)                    <span class="comment"># 두 번째 값 반환</span></span><br><span class="line">next(ir)                    <span class="comment"># 세 번째 값 반환</span></span><br><span class="line">next(ir)                    <span class="comment"># 네 번째 값 반환</span></span><br></pre></td></tr></table></figure>

<p>위 예제에서는 iter라는 이름의 함수를 호출하면서 리스트를 전달했다.<br>그러면 iter 함수는 객체를 생성해서 반환하는데, 이는 리스트에서 값을 꺼내는 기능을 제공하는 객체이다. 그리고 이러한 구조를 그림으로 정리하면 다음과 같다.</p>
<p><br></br></p>
<p><img src="/image/iterator.jpeg" alt="iterator"></p>
<p><br></br></p>
<p>즉 위 예제에서는 다음과 같이 리스트 ds를 전달하면서 iter 함수를 호출하였다.</p>
<p><br></br></p>
<h6 id="ir-iter-ds-iterator-객체를-얻는-방법"><a href="#ir-iter-ds-iterator-객체를-얻는-방법" class="headerlink" title="ir = iter(ds)        # iterator 객체를 얻는 방법"></a>ir = iter(ds)        # iterator 객체를 얻는 방법</h6><p><br></br></p>
<p>그러면 iter 함수는 리스트 ds에 접근하는 도구인 ‘iterator 객체’라는 것을 생성해서 반환한다. 즉 위의 문장이 실행되면 변수 ir은 ‘iterator 객체’를 참조하는(저장한) 상황이 된다. 그럼 이어서 이 객체를 전달하면서 다음과 같이 next 함수를 호출해서 리스트에 저장된 값을 하나씩 얻을 수 있다.</p>
<p><br></br></p>
<h6 id="next-ir-다음-값을-반환해라"><a href="#next-ir-다음-값을-반환해라" class="headerlink" title="next(ir)            # 다음 값을 반환해라!"></a>next(ir)            # 다음 값을 반환해라!</h6><p><br></br></p>
<p>사용 방법은 단순하다. 계속해서 next 함수를 호출하면서 iterator 객체를 전달하면 된다. 그러면 첫 번째 값부터 마지막 값까지 순차적으로 반환된다. 그리고 마지막 값을 얻었음에도 불구하고 다시 next 함수를 호출하면서 StopIteration 예외가 발생한다.</p>

    </div>

    

    
        <div class="post-tags">
            <i class="fa fa-tags" aria-hidden="true"></i>
            <a href="/tags/python-object/">#python, object</a>
        </div>
    

    <!-- Comments -->
    

</div>
        </section>

    </div>
</div>


</div>

<!-- Footer -->
<div class="push"></div>

<footer class="footer-content">
    <div class="container">
        <div class="row">
            <div class="col-xs-12 col-sm-12 col-md-6 col-lg-6 footer-about">
                <h2>About</h2>
                <p>
                    This theme was developed by <a href="https://github.com/klugjo" target="_blank" rel="noopener">Jonathan Klughertz</a>. The source code is available on Github. Create Websites. Make Magic.
                </p>
            </div>
            
    <div class="col-xs-6 col-sm-6 col-md-3 col-lg-3 recent-posts">
        <h2>Recent Posts</h2>
        <ul>
            
            <li>
                <a class="footer-post" href="/2019/11/21/Pytnon-%EB%B3%80%EC%88%98%EC%82%AC%EC%9A%A93/">Pytnon-변수사용3</a>
            </li>
            
            <li>
                <a class="footer-post" href="/2019/11/21/Python-%EB%B3%80%EC%88%98%EC%82%AC%EC%9A%A93/">[Python] 변수사용3</a>
            </li>
            
            <li>
                <a class="footer-post" href="/2019/11/20/HTML5-CSS3/">[HTML5+CSS3] HTML과의 첫 만남</a>
            </li>
            
            <li>
                <a class="footer-post" href="/2019/11/18/Programmers-%EC%A0%84%ED%99%94%EB%B2%88%ED%98%B8-%EB%AA%A9%EB%A1%9D/">[Programmers] 전화번호 목록</a>
            </li>
            
        </ul>
    </div>



            
        </div>
        <div class="row">
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
                <ul class="list-inline footer-social-icons">
                    
                    <li class="list-inline-item">
                        <a href="https://github.com/klugjo/hexo-theme-alpha-dust" target="_blank" rel="noopener">
                            <span class="footer-icon-container">
                                <i class="fa fa-github"></i>
                            </span>
                        </a>
                    </li>
                    
                    
                    <li class="list-inline-item">
                        <a href="https://twitter.com/?lang=en" target="_blank" rel="noopener">
                            <span class="footer-icon-container">
                                <i class="fa fa-twitter"></i>
                            </span>
                        </a>
                    </li>
                    
                    
                    <li class="list-inline-item">
                        <a href="https://www.facebook.com/" target="_blank" rel="noopener">
                            <span class="footer-icon-container">
                                <i class="fa fa-facebook"></i>
                            </span>
                        </a>
                    </li>
                    
                    
                    <li class="list-inline-item">
                        <a href="https://www.instagram.com/" target="_blank" rel="noopener">
                            <span class="footer-icon-container">
                                <i class="fa fa-instagram"></i>
                            </span>
                        </a>
                    </li>
                    
                    
                    <li class="list-inline-item">
                        <a href="https://dribbble.com/" target="_blank" rel="noopener">
                            <span class="footer-icon-container">
                                <i class="fa fa-dribbble"></i>
                            </span>
                        </a>
                    </li>
                    
                    
                    <li class="list-inline-item">
                        <a href="https://plus.google.com/" target="_blank" rel="noopener">
                            <span class="footer-icon-container">
                                <i class="fa fa-google-plus"></i>
                            </span>
                        </a>
                    </li>
                    
                    
                    <li class="list-inline-item">
                        <a href="https://www.behance.net/" target="_blank" rel="noopener">
                            <span class="footer-icon-container">
                                <i class="fa fa-behance"></i>
                            </span>
                        </a>
                    </li>
                    
                    
                    <li class="list-inline-item">
                        <a href="https://500px.com/" target="_blank" rel="noopener">
                            <span class="footer-icon-container">
                                <i class="fa fa-500px"></i>
                            </span>
                        </a>
                    </li>
                    
                    
                    <li class="list-inline-item">
                        <a href="mailto:test@example.com" target="_blank" rel="noopener">
                            <span class="footer-icon-container">
                                <i class="fa fa-envelope-o"></i>
                            </span>
                        </a>
                    </li>
                    
                    
                    <li class="list-inline-item">
                        <a href="\#">
                            <span class="footer-icon-container">
                                <i class="fa fa-rss"></i>
                            </span>
                        </a>
                    </li>
                    
                </ul>
            </div>
        </div>
        <div class="row">
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
                <div class="footer-copyright">
                    @Untitled. All right reserved | Design & Hexo <a href="http://www.codeblocq.com/" target="_blank" rel="noopener">Jonathan Klughertz</a>
                </div>
            </div>
        </div>
    </div>
</footer>

<!-- After footer scripts -->

<!-- jQuery -->
<script src="//code.jquery.com/jquery-2.1.4.min.js"></script>

<!-- Tween Max -->
<script src="//cdnjs.cloudflare.com/ajax/libs/gsap/1.18.5/TweenMax.min.js"></script>

<!-- Gallery -->
<script src="//cdnjs.cloudflare.com/ajax/libs/featherlight/1.3.5/featherlight.min.js" type="text/javascript" charset="utf-8"></script>

<!-- Custom JavaScript -->
<script src="/js/main.js"></script>

<!-- Disqus Comments -->



</body>

</html>